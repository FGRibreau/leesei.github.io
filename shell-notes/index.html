<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>Shell notes | leesei&#39;s notebook</title>

  <meta name="author" content="leesei">
  
  <meta name="description" content="Technical blog for the future me and other beings.">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Shell notes">
  <meta property="og:site_name" content="leesei&#39;s notebook">

  
    <meta property="og:image" content>
  

  
  
    <link href="/favicon.png" rel="icon">
  

  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  



</head>
</html>
 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">leesei&#39;s notebook</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">		
			<h1> Shell notes</h1>
		</div>		
	



<div class="row post">
	<!-- cols -->
	
	<div class="col-md-9">
	

			

	<!-- content -->
	<div class="mypage">		
	    <p>Notes on shell usage.<br>Most of the following are compatible to <code>bash</code> and <code>zsh</code>.</p>
<p><a href="https://terminalsare.sexy/" target="_blank" rel="noopener">We all &lt;3 Terminals. - Terminals Are Sexy</a><br><a href="https://www.youtube.com/watch?v=XVhSjZYwZJo" target="_blank" rel="noopener">Philip James, Asheesh Laroia - Type python, press enter. What happens? - PyCon 2015 - YouTube</a> how shell invocation works<br><a href="https://commandlinepoweruser.com/" target="_blank" rel="noopener">Command Line Power User — A free video series for web developers on learning a modern command line workflow with ZSH, Z and related tools.</a> !important, by Wes Bos<br><a href="https://medium.com/@caleb89taylor/coding-like-a-hacker-in-the-terminal-79e22954968e" target="_blank" rel="noopener">Coding like a Hacker in the terminal – Caleb Taylor – Medium</a><br><a href="https://medium.com/@caulfieldOwen/youre-missing-out-on-a-better-mac-terminal-experience-d73647abf6d7" target="_blank" rel="noopener">You’re Missing Out on a Better Mac Terminal Experience</a></p>
<a id="more"></a>

<h2 id="Choosing-shell"><a href="#Choosing-shell" class="headerlink" title="Choosing shell"></a>Choosing shell</h2><p><a href="http://hyperpolyglot.org/unix-shells" target="_blank" rel="noopener">Unix Shells: Bash, Fish, Ksh, Tcsh, Zsh - Hyperpolyglot</a><br><a href="https://www.ibm.com/developerworks/library/l-linux-shells/" target="_blank" rel="noopener">Evolution of shells in Linux</a><br><a href="http://www.etalabs.net/sh_tricks.html" target="_blank" rel="noopener">Rich’s sh (POSIX shell) tricks</a><br><a href="https://xon.sh/" target="_blank" rel="noopener">the xonsh shell — xonsh 0.8.12 documentation</a></p>
<p>Most distro comes with <code>bash</code> as default login shell.<br>Since <code>bash</code> is ubiquitous and more feature-rich than POSIX shell (<code>/bin/sh</code>), it is recommended to write shell scripts in <code>bash</code>.<br>Since <code>zsh</code> is <code>bash</code> (and hence POSIX) -compatible. Most command lines found on the web can be pasted in <code>zsh</code> directly (unlike <code>fish</code> which is not POSIX-compatible). It is recommended to use <code>zsh</code> as the interactive shell.<br>However I found <code>fish</code> <a href="http://fishshell.com/docs/current/design.html" target="_blank" rel="noopener">design</a> quite sensible. I&#39;ll try to use external binaries as mush as possible instead of relying on shell features. On the same line of thought, even-though <code>zsh</code> has more powerful syntax than <code>bash</code>, it may not be worthy to use them to avoid lock-in and maintain portability.</p>
<p><a href="https://www.ibm.com/developerworks/linux/library/l-linux-shells/index.html?ca=drs-" target="_blank" rel="noopener">Evolution of shells in Linux</a></p>
<h3 id="login-shell"><a href="#login-shell" class="headerlink" title="login shell"></a>login shell</h3><p>You can set a shell as your default shell with <code>chsh</code>.<br>But interactive shells must be added to <code>/etc/shells</code> first before used as a login shell.</p>
<p><a href="http://fishshell.com/docs/2.1/faq.html#faq-default" target="_blank" rel="noopener">http://fishshell.com/docs/2.1/faq.html#faq-default</a></p>
<h2 id="dotfiles"><a href="#dotfiles" class="headerlink" title="dotfiles"></a>dotfiles</h2><blockquote>
<p>most contain useful aliases, functions and scripts</p>
</blockquote>
<p>It is recommended to use source control to store your config files (<em>dotfiles</em>, as they usually begins with a <code>.</code>) and use symlinks (<code>ln -s</code>) to deploy them to the machine.</p>
<p><a href="http://dotfiles.github.io/" target="_blank" rel="noopener">GitHub does dotfiles - dotfiles.github.io</a><br><a href="https://github.com/webpro/awesome-dotfiles" target="_blank" rel="noopener">webpro/awesome-dotfiles: A curated list of dotfiles resources.</a></p>
<p>Honorable mentions:</p>
<ul>
<li><a href="http://chneukirchen.org/dotfiles/" target="_blank" rel="noopener">http://chneukirchen.org/dotfiles/</a></li>
<li><a href="https://github.com/jukben/dotfiles" target="_blank" rel="noopener">https://github.com/jukben/dotfiles</a> (Tmux)<blockquote>
<p>TODO: add my links in /caravan/github-watch/dotfiles</p>
</blockquote>
</li>
</ul>
<p><a href="http://siannopollo.blogspot.hk/2007/11/bash-aliases.html" target="_blank" rel="noopener">Steve&#39;s Blog: bash aliases</a></p>
<p><a href="https://github.com/jukben/gbck" target="_blank" rel="noopener">jukben/gbck: 🗳 Intuitive lightweight tool for an easy and seamless backup of your files into Git repository</a><br><a href="https://medium.com/@jukben/gbck-an-easy-way-how-to-back-up-your-dotfiles-2a9bf44ab622" target="_blank" rel="noopener">gbck— an easy way how to back up your dotfiles – Jakub Beneš – Medium</a><br><a href="https://yadm.io/" target="_blank" rel="noopener">Yet Another Dotfiles Manager - yadm</a></p>
<p><a href="https://medium.freecodecamp.org/dive-into-dotfiles-part-2-6321b4a73608" target="_blank" rel="noopener">How to make your Dotfile management a painless affair</a><br><a href="https://github.com/ajmalsiddiqui/utodot" target="_blank" rel="noopener">ajmalsiddiqui/autodot: A dotfile management system that makes sharing your dotfiles easy while keeping you in the loop.</a><br><a href="https://thoughtbot.github.io/rcm/" target="_blank" rel="noopener">RCM(7)</a></p>
<p><a href="https://github.com/twpayne/chezmoi" target="_blank" rel="noopener">twpayne/chezmoi: Manage your dotfiles across multiple machines, securely.</a><br><a href="http://brandon.invergo.net/news/2012-05-26-using-gnu-stow-to-manage-your-dotfiles.html" target="_blank" rel="noopener">Brandon Invergo - Using GNU Stow to manage your dotfiles</a><br><a href="https://www.bharatkalluri.in/post/manage-dotfiles-using-stow/" target="_blank" rel="noopener">Managing dotfiles using GNU Stow</a><br><a href="https://github.com/svetlyak40wt/dotfiler" target="_blank" rel="noopener">svetlyak40wt/dotfiler: Shell agnostic git based dotfiles package manager, written in Python.</a><br><a href="http://coda.caseykuhlman.com//entries/2014/dropbox-as-a-settings-repository.html" target="_blank" rel="noopener">Using Dropbox as a Settings Repository</a></p>
<h3 id="switching-OS-and-host"><a href="#switching-OS-and-host" class="headerlink" title="switching OS and host"></a>switching OS and host</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">SYS_OS=`uname -a`   <span class="comment"># linux or mac</span></span><br><span class="line">SHORT_HOSTNAME=`hostname -s`</span><br><span class="line"></span><br><span class="line"><span class="comment"># system aliases</span></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">"<span class="variable">$SYS_OS</span>"</span> == <span class="string">'Linux'</span> ]]; <span class="keyword">then</span></span><br><span class="line">     PATH=<span class="string">"..LINUX PATH..."</span></span><br><span class="line">     <span class="built_in">source</span> ~/dotfiles/aliases.lx</span><br><span class="line"> <span class="keyword">else</span></span><br><span class="line">     PATH=<span class="string">"... MAC PATH..."</span></span><br><span class="line">     <span class="built_in">source</span> ~/dotfiles/aliases.mac</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># run host specific profile</span></span><br><span class="line"><span class="keyword">if</span> [[ -e ~/dotfiles/profile.<span class="variable">$SHORT_HOSTNAME</span> ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">source</span> ~/dotfiles/profile.<span class="variable">$SHORT_HOSTNAME</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<h2 id="environment-variable"><a href="#environment-variable" class="headerlink" title="environment variable"></a>environment variable</h2><p><a href="http://www.wikiwand.com/en/Environment_variable" target="_blank" rel="noopener">Environment variable - Wikiwand</a><br><a href="https://wiki.archlinux.org/index.php/Environment_variables" target="_blank" rel="noopener">Environment variables - ArchWiki</a></p>
<h2 id="Frameworks"><a href="#Frameworks" class="headerlink" title="Frameworks"></a>Frameworks</h2><p><a href="https://github.com/niieani/bash-oo-framework" target="_blank" rel="noopener">niieani/bash-oo-framework: Bash Infinity is a modern boilerplate for bash</a><br><a href="https://github.com/jmmv/shtk" target="_blank" rel="noopener">jmmv/shtk: Application toolkit for programmers writing POSIX-compliant shell scripts</a></p>
<h2 id="Common-tasks"><a href="#Common-tasks" class="headerlink" title="Common tasks"></a>Common tasks</h2><p><a href="http://www.smallo.ruhr.de/award.html" target="_blank" rel="noopener">Useless Use of Cat Award</a></p>
<p>Follow <a href="http://www.faqs.org/docs/artu/" target="_blank" rel="noopener">The Art of Unix Programming</a>, implement filters.<br><a href="http://www.techrepublic.com/blog/software-engineer/simple-filters-in-perl-ruby-and-bourne-shell/" target="_blank" rel="noopener">Simple filters in Perl, Ruby, and Bourne shell - TechRepublic</a></p>
<p><a href="http://stackoverflow.com/questions/1116992/capturing-output-of-find-print0-into-a-bash-array" target="_blank" rel="noopener">Capturing output of find . -print0 into a bash array - Stack Overflow</a><br><a href="http://www.dwheeler.com/essays/filenames-in-shell.html" target="_blank" rel="noopener">Filenames and Pathnames in Shell (bash, dash, ash, ksh, and so on): How to do it Correctly</a><br><a href="https://sipb.mit.edu/doc/safe-shell/" target="_blank" rel="noopener">Writing Safe Shell Scripts</a></p>
<p><a href="https://zwischenzugs.com/2018/01/06/ten-things-i-wish-id-known-about-bash/" target="_blank" rel="noopener">Ten Things I Wish I’d Known About bash – zwischenzugs</a><br><a href="https://zwischenzugs.com/2018/01/21/ten-more-things-i-wish-id-known-about-bash/" target="_blank" rel="noopener">Ten More Things I Wish I&#39;d Known About bash – zwischenzugs</a><br><a href="https://www.techrepublic.com/article/how-to-debug-bash-scripts-with-two-easy-tools/#ftag=RSS56d97e7" target="_blank" rel="noopener">How to debug bash scripts with two tools - TechRepublic</a></p>
<h3 id="shebang-line"><a href="#shebang-line" class="headerlink" title="shebang line"></a>shebang line</h3><p><a href="http://www.in-ulm.de/~mascheck/various/shebang/" target="_blank" rel="noopener">The #! magic, details about the shebang/hash-bang mechanism</a><br><a href="http://sambal.org/2014/02/passing-options-node-shebang-line/" target="_blank" rel="noopener">Sambal : Passing options to node on the shebang (#!) line</a></p>
<p><a href="http://stackoverflow.com/a/25046028/665507" target="_blank" rel="noopener"><code>envns</code></a>:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">ARGS=( <span class="variable">$1</span> )  <span class="comment"># separate $1 into multiple space-delimited arguments.</span></span><br><span class="line"><span class="built_in">shift</span> <span class="comment"># consume $1</span></span><br><span class="line"></span><br><span class="line">PROG=`<span class="built_in">which</span> <span class="variable">$&#123;ARGS[0]&#125;</span>`</span><br><span class="line"><span class="built_in">unset</span> ARGS[0] <span class="comment"># discard executable name</span></span><br><span class="line"></span><br><span class="line">ARGS+=( <span class="string">"<span class="variable">$@</span>"</span> ) <span class="comment"># remainder of arguments preserved "as-is".</span></span><br><span class="line"><span class="built_in">exec</span> <span class="variable">$PROG</span> <span class="string">"<span class="variable">$&#123;ARGS[@]&#125;</span>"</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/local/bin/envns node --harmonic</span></span><br></pre></td></tr></table></figure>

<p><code>node-es6</code>: (alias won&#39;t work in shebang)</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">node --harmonic <span class="string">"<span class="variable">$@</span>"</span></span><br></pre></td></tr></table></figure>

<h3 id="parsing-command-line"><a href="#parsing-command-line" class="headerlink" title="parsing command line"></a>parsing command line</h3><p><a href="http://www.shelldorado.com/goodcoding/cmdargs.html" target="_blank" rel="noopener">SHELLdorado - cmdargs</a><br><a href="http://www.bahmanm.com/blogs/command-line-options-how-to-parse-in-bash-using-getopt" target="_blank" rel="noopener">Command Line Options: How To Parse In Bash Using “getopt” — BahmanM.com</a></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># http://www.bahmanm.com/blogs/command-line-options-how-to-parse-in-bash-using-getopt</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># “a” and “arga” have optional arguments with default values.</span></span><br><span class="line"><span class="comment"># “b” and “argb” have no arguments, acting as sort of a flag.</span></span><br><span class="line"><span class="comment"># “c” and “argc” have required arguments.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># e.g.:</span></span><br><span class="line"><span class="comment"># ./getopt.sh  1 -a'a' -b 2 -c'c' 3 4</span></span><br><span class="line"><span class="comment"># ./getopt.sh  1 --arga='a' 2 --argc='c' 3 4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># set an initial value for the flag</span></span><br><span class="line">ARG_B=0</span><br><span class="line"></span><br><span class="line"><span class="comment"># read the options</span></span><br><span class="line">TEMP=`getopt -o a::bc: --long arga::,argb,argc: -n <span class="string">'getopt.sh'</span> -- <span class="string">"<span class="variable">$@</span>"</span>`</span><br><span class="line"><span class="keyword">if</span> [[ $? -ne 0 ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">"\e[1;31m"</span><span class="string">"getopt error"</span><span class="string">"\e[0m"</span></span><br><span class="line">    <span class="built_in">exit</span> 2</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">eval</span> <span class="built_in">set</span> -- <span class="string">"<span class="variable">$TEMP</span>"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># extract options and their arguments into variables.</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">true</span> ; <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">"<span class="variable">$1</span>"</span> <span class="keyword">in</span></span><br><span class="line">        -a|--arga)</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"<span class="variable">$2</span>"</span> <span class="keyword">in</span></span><br><span class="line">                <span class="string">""</span>) ARG_A=<span class="string">'some default value'</span> ; <span class="built_in">shift</span> 2 ;;</span><br><span class="line">                *) ARG_A=<span class="variable">$2</span> ; <span class="built_in">shift</span> 2 ;;</span><br><span class="line">            <span class="keyword">esac</span> ;;</span><br><span class="line">        -b|--argb) ARG_B=1 ; <span class="built_in">shift</span> ;;</span><br><span class="line">        -c|--argc)</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"<span class="variable">$2</span>"</span> <span class="keyword">in</span></span><br><span class="line">                <span class="string">""</span>) <span class="built_in">shift</span> 2 ;;</span><br><span class="line">                *) ARG_C=<span class="variable">$2</span> ; <span class="built_in">shift</span> 2 ;;</span><br><span class="line">            <span class="keyword">esac</span> ;;</span><br><span class="line">        --) <span class="built_in">shift</span> ; <span class="built_in">break</span> ;;</span><br><span class="line">        *) <span class="built_in">echo</span> <span class="string">"Internal error!"</span> ; <span class="built_in">exit</span> 2 ;;</span><br><span class="line">    <span class="keyword">esac</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># do something with the variables -- in this case the lamest possible one :-)</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"ARG_A = <span class="variable">$ARG_A</span>"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"ARG_B = <span class="variable">$ARG_B</span>"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"ARG_C = <span class="variable">$ARG_C</span>"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># positional args</span></span><br><span class="line">args=(<span class="string">"<span class="variable">$@</span>"</span>)</span><br><span class="line"><span class="built_in">echo</span> \<span class="comment">#: [$&#123;#args[@]&#125;]</span></span><br><span class="line"><span class="built_in">echo</span> @: [<span class="variable">$&#123;args[@]&#125;</span>]</span><br><span class="line"><span class="keyword">for</span> ((i=0; i&lt;<span class="variable">$&#123;#args[@]&#125;</span>; i++)); <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$&#123;args[i]&#125;</span>;</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h3 id="Redirection"><a href="#Redirection" class="headerlink" title="Redirection"></a>Redirection</h3><p><a href="http://www.gnu.org/software/bash/manual/bash.html#Redirections" target="_blank" rel="noopener">Redirections</a><br><a href="http://www.catonmat.net/blog/bash-one-liners-explained-part-three/" target="_blank" rel="noopener">Bash One-Liners Explained, Part III: All about redirections - good coders code, great coders reuse</a></p>
<p>All these redirections are equal:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">$ &gt; file <span class="built_in">command</span> arg1 arg2 arg3</span><br><span class="line">$ <span class="built_in">command</span> &gt; file arg1 arg2 arg3</span><br><span class="line">$ <span class="built_in">command</span> arg1 &gt; file arg2 arg3</span><br><span class="line">$ <span class="built_in">command</span> arg1 arg2 &gt; file arg3</span><br><span class="line">$ <span class="built_in">command</span> arg1 arg2 arg3 &gt; file</span><br></pre></td></tr></table></figure>

<h3 id="Process-Substitution"><a href="#Process-Substitution" class="headerlink" title="Process Substitution"></a>Process Substitution</h3><p><a href="http://www.gnu.org/software/bash/manual/bash.html#Process-Substitution" target="_blank" rel="noopener">Process Substitution</a></p>
<p>Takes output of process as file</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">diff &lt;(ls -a folder1) &lt;(ls -a folder2)</span><br><span class="line">diff &lt;(grep -r -e foo src1/) &lt;(grep -r -e foo src1/)</span><br></pre></td></tr></table></figure>

<h3 id="Command-Substitution"><a href="#Command-Substitution" class="headerlink" title="Command Substitution"></a>Command Substitution</h3><p><a href="http://www.gnu.org/software/bash/manual/bash.html#Command-Substitution" target="_blank" rel="noopener">Command Substitution</a></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">vim `<span class="built_in">which</span> a.sh`</span><br><span class="line">vim $(<span class="built_in">which</span> a.sh)</span><br></pre></td></tr></table></figure>

<h3 id="Here-Doc"><a href="#Here-Doc" class="headerlink" title="Here Doc"></a>Here Doc</h3><p><a href="http://stackoverflow.com/questions/2953081/how-can-i-write-a-here-doc-to-a-file-in-bash-script" target="_blank" rel="noopener">linux - How can I write a here doc to a file in Bash script? - Stack Overflow</a><br><a href="http://tldp.org/LDP/abs/html/here-docs.html" target="_blank" rel="noopener">Here Documents</a></p>
<p>This is a technique to embed string block in scripts and feed it to an interactive command.</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">interactive-program &lt;&lt;LimitString</span><br><span class="line"><span class="built_in">command</span> <span class="comment">#1</span></span><br><span class="line"><span class="built_in">command</span> <span class="comment">#2</span></span><br><span class="line">...</span><br><span class="line">LimitString</span><br></pre></td></tr></table></figure>

<p>Single quote (<code>&#39;</code>) the commands to prevent string interpolation.</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">cat &lt;&lt; <span class="string">'EOF'</span></span><br><span class="line">I want to <span class="built_in">print</span> <span class="variable">$&#123;FOO&#125;</span> literally</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>

<p><code>&lt;&lt;-</code> will suppress leading tabs (not spaces).</p>
<p>Create file with Here Doc</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">cat &lt;&lt; EOF &gt; <span class="variable">$&#123;FILE&#125;</span></span><br><span class="line">This is the file content.</span><br><span class="line">Second line.</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>

<h3 id="detect-undefined-variables"><a href="#detect-undefined-variables" class="headerlink" title="detect undefined variables"></a>detect undefined variables</h3><p>it&#39;s more meaningful in scripts to report error then to continue with empty string</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">set</span> -u  <span class="comment"># throw error on uninitialized variable, `set -o nounset`</span></span><br><span class="line"><span class="built_in">set</span> -e  <span class="comment"># exit on statement error, `set -o errexit`</span></span><br></pre></td></tr></table></figure>

<h3 id="key-bindings"><a href="#key-bindings" class="headerlink" title="key bindings"></a>key bindings</h3><p><a href="http://www.ice2o.com/bash_quick_ref.html" target="_blank" rel="noopener">Bash Shortcuts Quick Reference</a></p>
<h3 id="exit-code"><a href="#exit-code" class="headerlink" title="exit code"></a>exit code</h3><p><a href="https://www.tldp.org/LDP/abs/html/exit-status.html" target="_blank" rel="noopener">Exit and Exit Status</a><br><a href="http://tldp.org/LDP/abs/html/exitcodes.html" target="_blank" rel="noopener">Exit Codes With Special Meanings</a></p>
<p><a href="https://brandur.org/exit-status" target="_blank" rel="noopener">Command Exit Status — Brandur Leach</a></p>
<h3 id="color"><a href="#color" class="headerlink" title="color"></a>color</h3><p><a href="https://misc.flogisoft.com/bash/tip_colors_and_formatting" target="_blank" rel="noopener">bash:tip_colors_and_formatting - FLOZz&#39; MISC</a><br><a href="https://gist.github.com/XVilka/8346728" target="_blank" rel="noopener">True Colour (16 million colours) support in various terminal applications and terminals</a><br><a href="http://www.calmar.ws/vim/256-xterm-24bit-rgb-color-chart.html" target="_blank" rel="noopener">256 Terminal colors and their 24bit equivalent (or similar)</a></p>
<p>A color escape sequence: <code>&lt;Esc&gt;[&lt;FormatCode&gt;m</code>, `<esc>`` can be:</esc></p>
<ul>
<li><code>\e</code></li>
<li><code>\033</code></li>
<li><code>\x1B</code></li>
</ul>
<p>zsh have color macros predefined, see themes in <code>oh-my-zsh</code></p>
<p><a href="https://github.com/pixelb/scripts/blob/master/scripts/ansi2html.sh" target="_blank" rel="noopener">scripts/ansi2html.sh at master · pixelb/scripts</a><br><a href="https://github.com/ralphbean/ansi2html" target="_blank" rel="noopener">ralphbean/ansi2html: Convert text with ansi color codes to HTML</a></p>
<h3 id="power-tools"><a href="#power-tools" class="headerlink" title="power tools"></a>power tools</h3><p><a href="https://github.com/mbrubeck/compleat" target="_blank" rel="noopener">mbrubeck/compleat</a></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">zstyle</span> -L <span class="string">":completion:*"</span></span><br></pre></td></tr></table></figure>

<p><a href="https://github.com/clvv/fasd" target="_blank" rel="noopener">clvv/fasd</a></p>
<p><a href="https://github.com/rupa/z" target="_blank" rel="noopener">rupa/z</a></p>
<h3 id="calculation"><a href="#calculation" class="headerlink" title="calculation"></a>calculation</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># do math calculation in $(( )), it is faster then `expr`</span></span><br><span class="line"><span class="comment"># and we can specify the number system with 8#, 10#, 16#</span></span><br><span class="line"><span class="comment"># useful for doing operation on variables with leading zeros</span></span><br><span class="line">a=005</span><br><span class="line">$((10<span class="comment">#$&#123;a&#125; + 1))</span></span><br><span class="line">$(expr <span class="variable">$&#123;a&#125;</span> + 1)  <span class="comment"># slower</span></span><br></pre></td></tr></table></figure>

<p>or use <code>bc</code>, or use <code>math</code> (inspired by <code>fish</code>)</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment"># thin wrapper around bc for easier math expression in shell</span></span><br><span class="line"><span class="comment"># inspired by fish</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$@</span>"</span> | bc -l</span><br></pre></td></tr></table></figure>

<h3 id="trap"><a href="#trap" class="headerlink" title="trap"></a>trap</h3><blockquote>
<p><code>bash</code> specific?</p>
</blockquote>
<p><a href="http://mywiki.wooledge.org/SignalTrap" target="_blank" rel="noopener">SignalTrap - Greg&#39;s Wiki</a><br><a href="http://redsymbol.net/articles/bash-exit-traps/" target="_blank" rel="noopener">How &quot;Exit Traps&quot; Can Make Your Bash Scripts Way More Robust And Reliable</a><br><a href="http://linuxcommand.org/wss0150.php" target="_blank" rel="noopener">Writing shell scripts - Lesson 15: Errors and Signals and Traps (Oh My!) - Part 1</a><br><a href="http://linuxcommand.org/wss0160.php" target="_blank" rel="noopener">Writing shell scripts - Lesson 16: Errors and Signals and Traps (Oh, My!) - Part 2</a></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># clean up</span></span><br><span class="line"><span class="built_in">trap</span> cleanUp INT TERM EXIT</span><br><span class="line"><span class="comment"># cannot be killed</span></span><br><span class="line"><span class="built_in">trap</span> - INT TERM EXIT</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>Number</th>
<th>SIG</th>
<th>Meaning</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>0</td>
<td>On exit from shell</td>
</tr>
<tr>
<td>1</td>
<td>SIGHUP</td>
<td>Clean tidyup</td>
</tr>
<tr>
<td>2</td>
<td>SIGINT</td>
<td>Interrupt (usually Ctrl-C)</td>
</tr>
<tr>
<td>3</td>
<td>SIGQUIT</td>
<td>Quit (usually Ctrl-\)</td>
</tr>
<tr>
<td>6</td>
<td>SIGABRT</td>
<td>Abort</td>
</tr>
<tr>
<td>9</td>
<td>SIGKILL</td>
<td>Die Now (cannot be trap&#39;ped)</td>
</tr>
<tr>
<td>14</td>
<td>SIGALRM</td>
<td>Alarm Clock</td>
</tr>
<tr>
<td>15</td>
<td>SIGTERM</td>
<td>Terminate</td>
</tr>
</tbody></table>
<h3 id="proper-critical-section"><a href="#proper-critical-section" class="headerlink" title="proper critical section"></a>proper critical section</h3><blockquote>
<p><code>bash</code> specific?</p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> [ ! -e <span class="variable">$lockfile</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">trap</span> <span class="string">"rm -f <span class="variable">$lockfile</span>; exit"</span> INT TERM EXIT</span><br><span class="line">    touch <span class="variable">$lockfile</span></span><br><span class="line">    critical-section</span><br><span class="line">    rm <span class="variable">$lockfile</span></span><br><span class="line">    <span class="built_in">trap</span> - INT TERM EXIT</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"critical-section is already running"</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<h2 id="Shell-Script-Constructs"><a href="#Shell-Script-Constructs" class="headerlink" title="Shell Script Constructs"></a>Shell Script Constructs</h2><p><a href="http://zsh.sourceforge.net/Doc/Release/Shell-Grammar.html" target="_blank" rel="noopener">http://zsh.sourceforge.net/Doc/Release/Shell-Grammar.html</a></p>
<h3 id="test-command"><a href="#test-command" class="headerlink" title="test command"></a><code>test</code> command</h3><p><a href="http://wiki.bash-hackers.org/commands/classictest" target="_blank" rel="noopener">The classic test command [Bash Hackers Wiki]</a></p>
<h3 id="if"><a href="#if" class="headerlink" title="if"></a><code>if</code></h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># if construct</span></span><br><span class="line"><span class="keyword">if</span> [[ -z <span class="string">"<span class="variable">$1</span>"</span> || -z <span class="string">"<span class="variable">$2</span>"</span> ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"Usage: <span class="variable">$0</span> &lt;command&gt; &lt;arg&gt;"</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># test existence of binary</span></span><br><span class="line"><span class="keyword">if</span> [[ -z <span class="string">"<span class="variable">$(which wget)</span>"</span> ]]; <span class="keyword">then</span></span><br><span class="line">  doSomething</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">[[ $(<span class="built_in">which</span> colordiff) ]] &amp;&amp; <span class="built_in">alias</span> diff=<span class="string">'colordiff '</span></span><br></pre></td></tr></table></figure>

<h3 id="case"><a href="#case" class="headerlink" title="case"></a><code>case</code></h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">'$param'</span> <span class="keyword">in</span></span><br><span class="line">A)</span><br><span class="line">    ;;</span><br><span class="line">B)</span><br><span class="line">    ;;</span><br><span class="line">*)</span><br><span class="line">    ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># choose 'open' command</span></span><br><span class="line"><span class="keyword">case</span> $(uname) <span class="keyword">in</span></span><br><span class="line">    Darwin) OPEN_CMD=open ;;</span><br><span class="line">    Linux) OPEN_CMD=xdg-open ;; <span class="comment"># assuming X is present</span></span><br><span class="line">    CYGWIN*) OPEN_CMD=cygstart ;;</span><br><span class="line">    *) <span class="built_in">echo</span> <span class="string">"Unknown OS"</span>; <span class="built_in">exit</span> 1 ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>

<h3 id="for"><a href="#for" class="headerlink" title="for"></a><code>for</code></h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> `ls -v` ; <span class="keyword">do</span> cat <span class="variable">$file</span> &gt;&gt; concat.file ; <span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> `ls -v` ; <span class="keyword">do</span></span><br><span class="line">    cat <span class="variable">$file</span> &gt;&gt; concat.file ;</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#123;START..END..INCREMENT&#125;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..5&#125;; <span class="keyword">do</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"Welcome <span class="variable">$i</span> times"</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h3 id="while"><a href="#while" class="headerlink" title="while"></a><code>while</code></h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> [ -z <span class="variable">$1</span> ] ; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$1</span></span><br><span class="line">    <span class="built_in">shift</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h3 id="until"><a href="#until" class="headerlink" title="until"></a><code>until</code></h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">until [ -z <span class="variable">$1</span> ] ; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$1</span></span><br><span class="line">    <span class="built_in">shift</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h3 id="array"><a href="#array" class="headerlink" title="array"></a>array</h3><p><a href="http://www.artificialworlds.net/blog/2012/10/17/bash-associative-array-examples/" target="_blank" rel="noopener">Bash associative array examples | Andy Balaam&#39;s Blog</a><br><a href="http://www.artificialworlds.net/blog/2013/09/18/bash-arrays/" target="_blank" rel="noopener">Bash arrays | Andy Balaam&#39;s Blog</a><br><a href="http://www.thegeekstuff.com/2010/06/bash-array-tutorial/" target="_blank" rel="noopener">The Ultimate Bash Array Tutorial with 15 Examples</a></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">cherries+=(54758)</span><br><span class="line">cherries+=(54761)</span><br><span class="line">cherries+=(55075)</span><br><span class="line"><span class="comment"># array is 1-based</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;cherries[1]&#125;</span>  <span class="comment"># 54758</span></span><br><span class="line"><span class="comment"># stringify array</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;cherries[@]&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># construct array form string</span></span><br><span class="line">FILES=(<span class="string">"<span class="variable">$&#123;@&#125;</span>"</span>)</span><br><span class="line">NUMFILES=<span class="variable">$&#123;#FILES[@]&#125;</span></span><br><span class="line"><span class="keyword">for</span> (( i = 0; i &lt; <span class="variable">$&#123;NUMFILES&#125;</span>; i++ )); <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$&#123;FILES[$&#123;i&#125;</span>]&#125;</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment"># "$&#123;!array[*]&#125;" "$&#123;array[*]&#125;"?</span></span><br><span class="line"><span class="comment"># keys: $&#123;!array[@]&#125;</span></span><br><span class="line"><span class="comment"># values $&#123;array[@]&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">declare</span> -A CAPITAL</span><br><span class="line">CAPITAL[Alabama]=Montgomery</span><br><span class="line">CAPITAL[Alaska]=Juneau</span><br><span class="line">CAPITAL[Arizona]=Phoenix</span><br><span class="line">CAPITAL[New Mexico]=<span class="string">"Santa Fe"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># $&#123;!ARRAY[@]&#125; get the keys</span></span><br><span class="line"><span class="keyword">for</span> STATE <span class="keyword">in</span> <span class="string">"<span class="variable">$&#123;!CAPITAL[@]&#125;</span>"</span>; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"The capital of <span class="variable">$STATE</span> is <span class="variable">$&#123;CAPITAL[$STATE]&#125;</span>."</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h4 id="passing-array-to-function"><a href="#passing-array-to-function" class="headerlink" title="passing array to function"></a>passing array to function</h4><p><a href="http://stackoverflow.com/questions/16461656/bash-how-to-pass-array-as-an-argument-to-a-function" target="_blank" rel="noopener">bash how to pass array as an argument to a function - Stack Overflow</a><br><a href="http://stackoverflow.com/questions/1063347/passing-arrays-as-parameters-in-bash" target="_blank" rel="noopener">Passing arrays as parameters in bash - Stack Overflow</a></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># stringify and reconstruct</span></span><br><span class="line">foo()</span><br><span class="line">&#123;</span><br><span class="line">    array=(<span class="string">"<span class="variable">$@</span>"</span>)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"array is <span class="variable">$&#123;array[@]&#125;</span>"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">array=(one two three)</span><br><span class="line">foo <span class="string">"<span class="variable">$&#123;array[@]&#125;</span>"</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># by reference</span></span><br><span class="line">foo()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"># note: must use a name different from "array"</span></span><br><span class="line">    <span class="built_in">local</span> -n a=<span class="variable">$1</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"array is <span class="variable">$&#123;a[@]&#125;</span>"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">array=(one two three)</span><br><span class="line">foo array</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># by reference</span></span><br><span class="line">foo()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"># note: must use a name different from "array1", "array2"</span></span><br><span class="line">    <span class="built_in">declare</span> -a argAry1=(<span class="string">"<span class="variable">$&#123;!1&#125;</span>"</span>)</span><br><span class="line">    <span class="built_in">declare</span> -a argAry2=(<span class="string">"<span class="variable">$&#123;!2&#125;</span>"</span>)</span><br><span class="line">    <span class="built_in">declare</span> -p argAry1</span><br><span class="line">    <span class="built_in">declare</span> -p argAry2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">array1=(one two three)</span><br><span class="line">array2=(a b c)</span><br><span class="line">foo array1[@] array2[@]</span><br></pre></td></tr></table></figure>

<h3 id="returning-values-from-function"><a href="#returning-values-from-function" class="headerlink" title="returning values from function"></a>returning values from function</h3><p><a href="https://www.linuxjournal.com/content/return-values-bash-functions" target="_blank" rel="noopener">Returning Values from Bash Functions | Linux Journal</a></p>
<h2 id="Libraries"><a href="#Libraries" class="headerlink" title="Libraries"></a>Libraries</h2><p><a href="https://github.com/jwerle/q" target="_blank" rel="noopener">jwerle/q</a><br><a href="https://github.com/jmcantrell/bashful" target="_blank" rel="noopener">jmcantrell/bashful</a><br><a href="https://github.com/dominictarr/JSON.sh" target="_blank" rel="noopener">dominictarr/JSON.sh</a><br><a href="http://www.shellcheck.net/" target="_blank" rel="noopener">ShellCheck – Shell script analyzer</a></p>
<p><a href="http://stackoverflow.com/questions/971945/unit-testing-for-shell-scripts" target="_blank" rel="noopener">linux - Unit testing for shell scripts - Stack Overflow</a><br><a href="https://github.com/kward/shunit2" target="_blank" rel="noopener">kward/shunit2</a><br><a href="https://code.google.com/p/shunit2/w/list" target="_blank" rel="noopener">Wiki Pages - shunit2 - shUnit2 - xUnit based unit testing for Unix shell scripts - Google Project Hosting</a><br><a href="https://github.com/sstephenson/bats" target="_blank" rel="noopener">sstephenson/bats</a></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="http://aurelio.net/articles/shell-reference.html" target="_blank" rel="noopener">Bash Shell Quick Reference, by Aurelio Jargas</a><br><a href="http://linuxcommand.org/tlcl.php" target="_blank" rel="noopener">The Linux Command Line by William E. Shotts, Jr.</a><br><a href="http://www.linux.org/forums/shell-command-line.49/" target="_blank" rel="noopener">Shell / Command Line | Linux.org</a><br><a href="http://www.tldp.org/LDP/GNU-Linux-Tools-Summary/html/index.html" target="_blank" rel="noopener">GNU/Linux Command-Line Tools Summary</a><br><a href="http://www.shelldorado.com/" target="_blank" rel="noopener">Heiner&#39;s SHELLdorado</a><br><a href="https://www.digitalocean.com/community/tutorial_series/an-introduction-to-shell-scripting" target="_blank" rel="noopener">An Introduction to Shell Scripting | DigitalOcean</a><br><a href="https://www.gnu.org/savannah-checkouts/gnu/autoconf/manual/autoconf-2.69/html_node/Portable-Shell.html#Portable-Shell" target="_blank" rel="noopener">Portable Shell - Autoconf</a><br><a href="https://blog.csdn.net/w746805370/article/details/51044352" target="_blank" rel="noopener">Shell 特殊变量： $0, $#, $*, $@, $?, $$, $!, $_和命令行参数$n - Gikor - CSDN 博客</a></p>
<p><a href="https://www.linuxjournal.com/content/writing-secure-shell-scripts" target="_blank" rel="noopener">Writing Secure Shell Scripts | Linux Journal</a></p>
<p><strong>Bash</strong>:<br><a href="https://github.com/denysdovhan/bash-handbook" target="_blank" rel="noopener">denysdovhan/bash-handbook: For those who wanna learn Bash</a><br><a href="http://tldp.org/HOWTO/Bash-Prog-Intro-HOWTO.html" target="_blank" rel="noopener">BASH Programming - Introduction HOW-TO</a><br><a href="http://www.tldp.org/LDP/Bash-Beginners-Guide/html/Bash-Beginners-Guide.html" target="_blank" rel="noopener">Bash Guide for Beginners</a><br><a href="http://www.tldp.org/LDP/abs/html/" target="_blank" rel="noopener">Advanced Bash-Scripting Guide</a><br><a href="http://wiki.bash-hackers.org/doku.php" target="_blank" rel="noopener">Bash Hackers Wiki Frontpage [Bash Hackers Wiki]</a><br><a href="http://ryanstutorials.net/bash-scripting-tutorial/" target="_blank" rel="noopener">Bash Scripting Tutorial - Ryans Tutorials</a><br><a href="http://justinlilly.com/bash/forgotten_friend_1.html" target="_blank" rel="noopener">http://justinlilly.com/bash/forgotten_friend_1.html</a><br><a href="http://justinlilly.com/bash/forgotten_friend_2.html" target="_blank" rel="noopener">http://justinlilly.com/bash/forgotten_friend_2.html</a><br><a href="http://justinlilly.com/bash/forgotten_friend_3.html" target="_blank" rel="noopener">http://justinlilly.com/bash/forgotten_friend_3.html</a><br><a href="http://www.dsj.net/compedge/shellbasics.html" target="_blank" rel="noopener">http://www.dsj.net/compedge/shellbasics.html</a><br><a href="http://www.dsj.net/compedge/shellbasics1.html" target="_blank" rel="noopener">http://www.dsj.net/compedge/shellbasics1.html</a><br><a href="http://www.dsj.net/compedge/regex.html" target="_blank" rel="noopener">http://www.dsj.net/compedge/regex.html</a><br><a href="http://www.dsj.net/compedge/morebashfun2.html" target="_blank" rel="noopener">http://www.dsj.net/compedge/morebashfun2.html</a><br><a href="http://www.dsj.net/compedge/bashit.html" target="_blank" rel="noopener">http://www.dsj.net/compedge/bashit.html</a></p>
<p><strong>Zsh</strong>:<br><a href="http://zsh.sourceforge.net/Doc/Release/zsh_toc.html" target="_blank" rel="noopener">http://zsh.sourceforge.net/Doc/Release/zsh_toc.html</a><br><a href="http://grml.org/zsh/zsh-lovers.html" target="_blank" rel="noopener">http://grml.org/zsh/zsh-lovers.html</a><br><a href="http://www.zzapper.co.uk/zshtips.html" target="_blank" rel="noopener">http://www.zzapper.co.uk/zshtips.html</a><br><a href="http://fendrich.se/blog/2012/09/28/no/" target="_blank" rel="noopener">http://fendrich.se/blog/2012/09/28/no/</a><br><a href="http://www.tuxradar.com/content/z-shell-made-easy" target="_blank" rel="noopener">http://www.tuxradar.com/content/z-shell-made-easy</a></p>
<p><strong>Fish</strong>:<br><a href="https://wiki.archlinux.org/index.php/Fish" target="_blank" rel="noopener">https://wiki.archlinux.org/index.php/Fish</a></p>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">
<ul class="pagination">
	 
				
    	<li class="prev"><a href="/shell-string-expansion/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>Prev</a></li>
  		

        <li><a href="/archives"><i class="fa fa-archive"></i>Archive</a></li>

		
		   <li class="next"><a href="/shell-snippets/" class="alignright next">Next<i class="fa fa-arrow-circle-o-right"></i></a></li>         
        
	
</ul>
</div>

    </center>
	</div>
	
	<!-- comment -->
	
<section id="comment">
  <h2 class="title">Comments</h2>

  
  	 <div id="disqus_thread">
     <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  	 </div>
  
</section>

	
	</div> <!-- col-md-9/col-md-12 -->
	
	
		<div class="col-md-3"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2014-12-08 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/linux/">linux<span>27</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/notes/">notes<span>24</span></a></li> <li><a href="/tags/shell/">shell<span>6</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i></a>
	   <div id="toc" class="toc collapse in">
			<ol class="toc-article"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Choosing-shell"><span class="toc-article-text">Choosing shell</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#login-shell"><span class="toc-article-text">login shell</span></a></li></ol></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#dotfiles"><span class="toc-article-text">dotfiles</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#switching-OS-and-host"><span class="toc-article-text">switching OS and host</span></a></li></ol></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#environment-variable"><span class="toc-article-text">environment variable</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Frameworks"><span class="toc-article-text">Frameworks</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Common-tasks"><span class="toc-article-text">Common tasks</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#shebang-line"><span class="toc-article-text">shebang line</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#parsing-command-line"><span class="toc-article-text">parsing command line</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#Redirection"><span class="toc-article-text">Redirection</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#Process-Substitution"><span class="toc-article-text">Process Substitution</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#Command-Substitution"><span class="toc-article-text">Command Substitution</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#Here-Doc"><span class="toc-article-text">Here Doc</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#detect-undefined-variables"><span class="toc-article-text">detect undefined variables</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#key-bindings"><span class="toc-article-text">key bindings</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#exit-code"><span class="toc-article-text">exit code</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#color"><span class="toc-article-text">color</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#power-tools"><span class="toc-article-text">power tools</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#calculation"><span class="toc-article-text">calculation</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#trap"><span class="toc-article-text">trap</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#proper-critical-section"><span class="toc-article-text">proper critical section</span></a></li></ol></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Shell-Script-Constructs"><span class="toc-article-text">Shell Script Constructs</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#test-command"><span class="toc-article-text">test command</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#if"><span class="toc-article-text">if</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#case"><span class="toc-article-text">case</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#for"><span class="toc-article-text">for</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#while"><span class="toc-article-text">while</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#until"><span class="toc-article-text">until</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#array"><span class="toc-article-text">array</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#passing-array-to-function"><span class="toc-article-text">passing array to function</span></a></li></ol></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#returning-values-from-function"><span class="toc-article-text">returning values from function</span></a></li></ol></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Libraries"><span class="toc-article-text">Libraries</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Reference"><span class="toc-article-text">Reference</span></a></li></ol>
		</div>
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	

</div><!-- row -->

	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2019 leesei
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a> (customized by <a href="https://github.com/leesei/hexo-theme-freemind/tree/leesei.github.io">leesei</a>).
</p>
 </footer>
</div> <!-- container-narrow -->
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>


<script type="text/javascript">
var disqus_shortname = 'leesei';
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


</body>
   </html>
