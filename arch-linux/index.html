<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Arch linux | leesei&#39;s notebook</title>
  <meta name="author" content="leesei">
  
  <meta name="description" content="Technical blog for the future me and other beings.">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Arch linux"/>
  <meta property="og:site_name" content="leesei&#39;s notebook"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  



</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">leesei&#39;s notebook</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">		
			<h1> Arch linux</h1>
		</div>		
	



<div class="row post">
	<!-- cols -->
	
	<div class="col-md-9">
	

			

	<!-- content -->
	<div class="mypage">		
	    <p><a href="http://www.wikiwand.com/en/Arch_Linux" target="_blank" rel="external">Arch Linux - Wikiwand</a><br><a href="https://www.archlinux.org/" target="_blank" rel="external">Arch Linux Wiki</a><br><a href="https://wiki.manjaro.org/index.php?title=Main_Page" target="_blank" rel="external">Manjaro Linux</a><br><a href="http://antergos.com/wiki/" target="_blank" rel="external">Community Wiki | Antergos</a></p>
<p><a href="https://wiki.archlinux.org/index.php/Beginners%27_guide" target="_blank" rel="external">Beginners’ guide - ArchWiki</a><br><a href="https://wiki.archlinux.org/index.php/System_maintenance" target="_blank" rel="external">System maintenance - ArchWiki</a><br><a href="http://www.reddit.com/r/LinuxActionShow/comments/1fccny/arch_linux_survival_guide/" target="_blank" rel="external">[Arch Linux Survival Guide] : LinuxActionShow</a></p>
<p><a href="http://www.reddit.com/r/linux/comments/cdnhe/going_to_try_arch_linux_any_advice/" target="_blank" rel="external">Going to try Arch Linux. Any advice? : linux</a><br><a href="https://wiki.archlinux.org/index.php/Arch_compared_to_other_distributions" target="_blank" rel="external">Arch compared to other distributions - ArchWiki</a><br><a href="https://lists.archlinux.org//listinfo/arch-announce" target="_blank" rel="external">arch-announce Info Page</a></p>
<a id="more"></a>
<h2 id="Arch_Distros"><a href="#Arch_Distros" class="headerlink" title="Arch Distros"></a>Arch Distros</h2><p><a href="http://distrowatch.com/search.php?ostype=Linux&amp;category=All&amp;origin=All&amp;basedon=Arch&amp;notbasedon=None&amp;desktop=All&amp;architecture=All&amp;status=Active" target="_blank" rel="external">DistroWatch.com: based on Arch </a></p>
<p><a href="https://manjaro.github.io/" target="_blank" rel="external">Manjaro Linux</a> <a href="http://sourceforge.net/projects/manjarolinux/files/" target="_blank" rel="external">iso</a> <a href="http://sourceforge.net/projects/manjarotorrents/files/" target="_blank" rel="external">torrent</a><br>Desktops (official): Xfce, KDE, CLI<br>Desktops (community): GNOME, LXQT, LXDE, Openbox, Cinnamon, MATE, Enlightenment<br><a href="http://antergos.com/" target="_blank" rel="external">Antergos Linux</a><br>Desktops: GNOME 3, KDE, Cinnamon, Xfce, Openbox, LXQT, MATE, CLI<br><a href="http://www.archbang.org/" target="_blank" rel="external">ArchBang</a> <a href="http://sourceforge.net/projects/archbang/files/" target="_blank" rel="external">iso</a><br>Desktops: Openbox<br><a href="http://millertechnologies.net/bridgelinux.html" target="_blank" rel="external">Bridge Linux</a><br>Desktops: Xfce, LXDE, Openbox, KDE, GNOME 3<br><a href="http://papyros.io/" target="_blank" rel="external">Papyros</a><br>Desktops: Papyros</p>
<h3 id="Manjaro_NET-Edition"><a href="#Manjaro_NET-Edition" class="headerlink" title="Manjaro NET-Edition"></a>Manjaro NET-Edition</h3><p>This provides a minimal install of Manjaro Arch, boots to terminal only.<br>Install graphic driver and DE yourself.</p>
<p><a href="https://wiki.manjaro.org/index.php?title=Installation_Guide_for_the_NET_Edition_0.8.10" target="_blank" rel="external">Installation Guide for the NET Edition 0.8.10 - Manjaro Linux</a><br><a href="https://wiki.manjaro.org/index.php?title=Installation_Guide_for_Experienced_Users_0.8.2" target="_blank" rel="external">Installation Guide for Experienced Users 0.8.2 - Manjaro Linux</a><br><a href="https://wiki.manjaro.org/index.php?title=Installation_to_SSD_(quick_guide" target="_blank" rel="external">Installation to SSD (quick guide) - Manjaro Linux</a>)<br><a href="https://wiki.manjaro.org/index.php?title=UEFI_-_Install_Guide" target="_blank" rel="external">UEFI - Install Guide - Manjaro Linux</a></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># [Configure Graphics Cards - Manjaro Linux](https://wiki.manjaro.org/index.php?title=Configure_Graphics_Cards)</span></span><br><span class="line">sudo mhwd <span class="operator">-a</span> pci nonfree <span class="number">0300</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># [Install Desktop Environments - Manjaro Linux](https://wiki.manjaro.org/index.php?title=Install_Desktop_Environments)</span></span><br><span class="line">sudo pacman -S cinnamon</span><br><span class="line">sudo pacman -S gnome-terminal</span><br></pre></td></tr></table></figure>
<h3 id="Antergos"><a href="#Antergos" class="headerlink" title="Antergos"></a>Antergos</h3><p>Antergos LiveCD boots into GNOME3 and comes with a <code>Cnchi</code> graphical installer.<br>It is better to update Cnchi (<code>pacman -Syu cnchi</code>) before installation.<br>The good (may be bad for you) things about Antergos are:</p>
<ol>
<li>it does not install LibreOffice (which I don’t use) by default</li>
<li>it downloads the latest packages from network during install (but the install is slower)</li>
</ol>
<h3 id="ArchBang"><a href="#ArchBang" class="headerlink" title="ArchBang"></a>ArchBang</h3><p>ArchBang kick-start you with OpenBox WM.</p>
<p><a href="http://bbs.archbang.org/viewforum.php?id=2" target="_blank" rel="external">Announcements page</a></p>
<p><a href="http://lifehacker.com/5857636/archbang-brings-arch-linuxs-greatest-features-to-your-pc-without-the-stressful-installation" target="_blank" rel="external">ArchBang Brings Arch Linux’s Greatest Features to Your PC Without the Stressful Installation</a></p>
<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p><a href="https://wiki.archlinux.org/index.php/Installation_guide" target="_blank" rel="external">Installation guide - ArchWiki</a><br><a href="https://wiki.manjaro.org/index.php?title=Installation_to_SSD_(quick_guide" target="_blank" rel="external">Installation to SSD (quick guide) - Manjaro Linux</a>)</p>
<p><a href="http://www.tecmint.com/arch-linux-installation-guide/" target="_blank" rel="external">Arch Linux 2014.05.01 Released - Installation and Configuration Guide with Screenshots</a></p>
<p><a href="http://lifehacker.com/5680453/build-a-killer-customized-arch-linux-installation-and-learn-all-about-linux-in-the-process" target="_blank" rel="external">Build a Killer Customized Arch Linux Installation (and Learn All About Linux in the Process)</a></p>
<p><a href="http://www.tecmint.com/install-cinnamon-desktop-in-arch-linux/" target="_blank" rel="external">Installing GUI (Cinnamon Desktop) and Basic Softwares in Arch Linux</a><br><a href="http://blog.mixu.net/2011/11/10/my-arch-linux-setup/" target="_blank" rel="external">My Arch Linux setup</a><br><a href="http://cs.iupui.edu/~pengw/writing/arch-setup.html" target="_blank" rel="external">Setting up my Arch-Linux-based production environment</a><br><a href="http://cs.iupui.edu/~pengw/writing/arch-setup-2.html" target="_blank" rel="external">Setting up my Arch-Linux-based production environment: II</a></p>
<h2 id="Post-install"><a href="#Post-install" class="headerlink" title="Post-install"></a>Post-install</h2><h3 id="pacman_repo"><a href="#pacman_repo" class="headerlink" title="pacman repo"></a>pacman repo</h3><p><a href="https://wiki.archlinux.org/index.php/Multilib" target="_blank" rel="external">Multilib - ArchWiki</a></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo vi /etc/pacman.conf</span><br><span class="line"><span class="comment"># Uncomment `[multilib]` section</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># update mirrorlist</span></span><br><span class="line">sudo vi /etc/pacman.d/mirrorlist <span class="comment"># OR</span></span><br><span class="line">sudo pacman-mirrors -i <span class="comment"># or -g</span></span><br><span class="line">sudo pacman -Syy</span><br><span class="line">sudo pacman-optimize &amp;&amp; sync</span><br><span class="line"></span><br><span class="line"><span class="comment"># update</span></span><br><span class="line">pacman -Syyu</span><br></pre></td></tr></table></figure>
<h3 id="increase_inotify_limit"><a href="#increase_inotify_limit" class="headerlink" title="increase inotify limit"></a>increase inotify limit</h3><p>For Dropbox, and possibly more</p>
<p>Permanently:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">su</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"fs.inotify.max_user_watches=150000"</span> &gt; /etc/sysctl.d/<span class="number">10</span>-sysctl.conf</span><br><span class="line">sysctl --system</span><br></pre></td></tr></table></figure>
<p>Temporarily:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">cat /proc/sys/fs/inotify/max_user_watches</span><br><span class="line">sudo <span class="built_in">echo</span> <span class="number">150000</span> &gt; /proc/sys/fs/inotify/max_user_watches</span><br></pre></td></tr></table></figure>
<blockquote>
<p>See <code>caravan/home/rfs.common/etc/</code></p>
</blockquote>
<h3 id="install_priority_packages"><a href="#install_priority_packages" class="headerlink" title="install priority packages"></a>install priority packages</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">yaourt -S dropbox guake pacmatic zsh</span><br><span class="line">sh -c <span class="string">"<span class="variable">$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>"</span></span><br><span class="line"><span class="comment"># copy Dropbox backup to ~/Dropbox to save download time</span></span><br><span class="line">yaourt -S --needed google-chrome gvim sublime-text-dev</span><br></pre></td></tr></table></figure>
<h3 id="setup_mail"><a href="#setup_mail" class="headerlink" title="setup mail"></a>setup mail</h3><blockquote>
<p>this is mostly for <code>pacmatic</code>‘s update</p>
</blockquote>
<p><a href="https://wiki.archlinux.org/index.php/Msmtp#Using_the_mail_command" target="_blank" rel="external">msmtp - ArchWiki</a></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">cron-pacmatic &lt;email&gt;</span><br></pre></td></tr></table></figure>
<h3 id="display_driver"><a href="#display_driver" class="headerlink" title="display driver"></a>display driver</h3><p>Proprietary (non-free) drivers is a source of problem. You will have to rebuild the driver every time the kernel is updated. Otherwise X will fail to start.<br>If performance is not an issue it is <a href="https://wiki.archlinux.org/index.php/Enhance_system_stability#Choose_open-source_drivers" target="_blank" rel="external">recommended</a> to use the free drivers.</p>
<h4 id="AMD"><a href="#AMD" class="headerlink" title="AMD"></a>AMD</h4><p><a href="http://support.amd.com/en-us/download" target="_blank" rel="external">AMD: Download Drivers</a><br><a href="http://www.neuraladvance.com/installing-amd-catalyst-drivers-on-arch-linux.html" target="_blank" rel="external">Installing AMD Catalyst drivers on Arch Linux</a></p>
<h4 id="nVidia"><a href="#nVidia" class="headerlink" title="nVidia"></a>nVidia</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># drivers</span></span><br><span class="line">nvidia nvidia-lts nvidia-utils nvidia-libgl lib32-nvidia-utils lib32-nvidia-libgl</span><br><span class="line"></span><br><span class="line"><span class="comment"># legacy (for Quadro FX 570)</span></span><br><span class="line">nvidia-<span class="number">340</span>xx nvidia-<span class="number">340</span>xx-lts nvidia-<span class="number">340</span>xx-utils nvidia-<span class="number">340</span>xx-libgl lib32-nvidia-<span class="number">340</span>xx-utils lib32-nvidia-<span class="number">340</span>xx-libgl</span><br></pre></td></tr></table></figure>
<h3 id="Remove_indexer__28Antergos_only_3F_29"><a href="#Remove_indexer__28Antergos_only_3F_29" class="headerlink" title="Remove indexer (Antergos only?)"></a>Remove indexer (Antergos only?)</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">yaourt -Rs tracker bijiben gnome-music gnome-online-miners gnome-photos totem zeitgeist</span><br></pre></td></tr></table></figure>
<h3 id="Network"><a href="#Network" class="headerlink" title="Network"></a>Network</h3><p><a href="https://wiki.archlinux.org/index.php/Systemd-networkd" target="_blank" rel="external">systemd-networkd - ArchWiki</a></p>
<h4 id="DNS_resolver"><a href="#DNS_resolver" class="headerlink" title="DNS resolver"></a>DNS resolver</h4><p><code>~/caravan/home/rfs.common/etc/resolv.conf</code></p>
<p><a href="https://developers.google.com/speed/public-dns/docs/using#linux" target="_blank" rel="external">Get Started  |  Public DNS  |  Google Developers</a></p>
<h4 id="static_IP_address"><a href="#static_IP_address" class="headerlink" title="static IP address"></a>static IP address</h4><p>Edit <code>/etc/systemd/network/wired.network</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[Match]&#10;Name=enp63s0&#10;&#10;[Network]&#10;Address=10.6.64.47/24&#10;Gateway=10.6.64.1</span><br></pre></td></tr></table></figure>
<p>Revert to DHCP:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[Match]&#10;Name=enp63s0&#10;&#10;[Network]&#10;DHCP=ipv4</span><br></pre></td></tr></table></figure></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> systemd-networkd</span><br><span class="line">sudo systemctl restart systemd-networkd</span><br></pre></td></tr></table></figure>
<p>You can lookup interface name with <code>ifconfig</code>/<code>ls /sys/class/net</code>.<br><a href="https://wiki.archlinux.org/index.php/Network_configuration" target="_blank" rel="external">Network configuration - ArchWiki</a><br><a href="https://wiki.archlinux.org/index.php/Systemd-networkd#Basic_DHCP_network" target="_blank" rel="external">systemd-networkd - ArchWiki</a></p>
<h2 id="Troubleshooting"><a href="#Troubleshooting" class="headerlink" title="Troubleshooting"></a>Troubleshooting</h2><h3 id="u201CFailed_to_set_default_locale_u201D"><a href="#u201CFailed_to_set_default_locale_u201D" class="headerlink" title="“Failed to set default locale”"></a>“Failed to set default locale”</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo vi /etc/locale.gen</span><br><span class="line"><span class="comment"># enable "en_US.UTF8    UTF-8"</span></span><br><span class="line">sudo locale-gen</span><br></pre></td></tr></table></figure>
<h3 id="future_key__28Manjaro_issue_29"><a href="#future_key__28Manjaro_issue_29" class="headerlink" title="future key (Manjaro issue)"></a>future key (Manjaro issue)</h3><p>I encountered a PGP key error complaining my local key is created in the future in a Manjaro installation.</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># verify PGP key</span></span><br><span class="line">sudo pacman-key --refresh</span><br><span class="line"></span><br><span class="line"><span class="comment"># backup invalid key</span></span><br><span class="line">sudo mv /etc/pacman.d/gnupg/ /etc/pacman.d/gnupgold</span><br><span class="line"><span class="comment"># this takes some while</span></span><br><span class="line">sudo pacman-key --init</span><br><span class="line">sudo pacman-key --populate archlinux manjaro</span><br><span class="line">sudo pacman-key --refresh</span><br><span class="line"></span><br><span class="line"><span class="comment"># delete backup</span></span><br><span class="line">sudo rm -rf /etc/pacman.d/gnupgold</span><br></pre></td></tr></table></figure>
<h3 id="dirmngr__28Manjaro_issue_29"><a href="#dirmngr__28Manjaro_issue_29" class="headerlink" title="dirmngr (Manjaro issue)"></a>dirmngr (Manjaro issue)</h3><p>If GPG reports <code>gpg: keyserver refresh failed: No dirmngr</code>:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo rm -rf ~/.gnupg /root/.gnupg</span><br><span class="line">dirmngr --debug-level guru  <span class="comment"># then breaks</span></span><br><span class="line">sudo su</span><br><span class="line">dirmngr --debug-level guru  <span class="comment"># then breaks</span></span><br><span class="line"><span class="comment"># touch dirmngr_ldapservers.conf if needed</span></span><br><span class="line">sudo pacman-key --refresh</span><br><span class="line"></span><br><span class="line"><span class="comment"># this is also suggested</span></span><br><span class="line">sudo -i dirmngr &lt; /dev/null</span><br></pre></td></tr></table></figure>
<h3 id="emergency_mode"><a href="#emergency_mode" class="headerlink" title="emergency mode"></a>emergency mode</h3><p>You boot into emergency/rescue mode when error occurs during boot.</p>
<p><code>journalctl -xb</code> to list boot log, look for errors.<br><code>dbcpcd</code> (mnemonic: <strong>c</strong>lient <strong>d</strong>aemon) to kick off network.<br><code>sudo mount -o remount,rw /</code> to make root file system writable.  </p>
<p>You may then modify files and use <code>pacman</code> to try fix issues.</p>
<p><code>systemctrl default</code>/<kbd>Ctrl</kbd>+<kbd>D</kbd> to start a normal boot.</p>
<h3 id="hardware_propbing"><a href="#hardware_propbing" class="headerlink" title="hardware propbing"></a>hardware propbing</h3><p><a href="http://www.linux.org/threads/hardware-probing-via-command-line.7565/" target="_blank" rel="external">Hardware Probing Via Command-line | Linux.org</a></p>
<p><code>fstab</code></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo blkid</span><br><span class="line">lsblk</span><br><span class="line">ls /dev/disk/by-&#123;id,label,uuid&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Package_manager"><a href="#Package_manager" class="headerlink" title="Package manager"></a>Package manager</h2><h3 id="pacman-key"><a href="#pacman-key" class="headerlink" title="pacman-key"></a>pacman-key</h3><p><code>pacman-key</code> is a wrapper around gpg</p>
<h4 id="add_key"><a href="#add_key" class="headerlink" title="add key"></a>add key</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo pacman-key -r <span class="number">1</span>D1F0DC78F173680</span><br></pre></td></tr></table></figure>
<p>Add pacman’s key to <code>~/.gnupg/gpg.conf</code>:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">keyring /etc/pacman.d/gnupg/pubring.gpg</span><br></pre></td></tr></table></figure>
<p>or add key automatically:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">keyserver-options auto-key-retrieve</span><br></pre></td></tr></table></figure>
<h3 id="pacman"><a href="#pacman" class="headerlink" title="pacman"></a>pacman</h3><p><a href="https://wiki.archlinux.org/index.php/Pacman" target="_blank" rel="external">https://wiki.archlinux.org/index.php/Pacman</a><br><a href="https://wiki.archlinux.org/index.php/Pacman_Tips" target="_blank" rel="external">https://wiki.archlinux.org/index.php/Pacman_Tips</a><br><a href="https://wiki.manjaro.org/index.php?title=Pacman_Tips" target="_blank" rel="external">https://wiki.manjaro.org/index.php?title=Pacman_Tips</a><br><a href="http://www.hahack.com/wiki/arch-pacman.html" target="_blank" rel="external">http://www.hahack.com/wiki/arch-pacman.html</a><br><a href="https://wiki.archlinux.org/index.php/Improve_pacman_performance" target="_blank" rel="external">Improve pacman performance - ArchWiki</a><br><a href="https://wiki.archlinux.org/index.php/Powerpill" target="_blank" rel="external">Powerpill - ArchWiki</a><br><a href="https://wiki.manjaro.org/index.php?title=Pacman_troubleshooting" target="_blank" rel="external">Pacman troubleshooting - Manjaro Linux</a></p>
<p><code>/etc/pacman.conf</code></p>
<h4 id="repo_source"><a href="#repo_source" class="headerlink" title="repo source"></a>repo source</h4><p><code>pacman</code> only installs from <a href="https://wiki.archlinux.org/index.php/Official_repositories" target="_blank" rel="external">official repositories</a>: core, extra, community. But the gem of Arch Linux in the <a href="https://wiki.archlinux.org/index.php/Arch_User_Repository" target="_blank" rel="external">Arch User Repository (AUR)</a>. You can find literally any linux apps there. If it is not there, you can create a PKGBUILD and submit to it.</p>
<p><a href="https://www.archlinux.org/packages/" target="_blank" rel="external">Arch Linux - Package Search</a><br><a href="https://aur.archlinux.org/packages/" target="_blank" rel="external">AUR (en) - Packages</a></p>
<p><a href="https://www.archlinux.org/mirrors/" target="_blank" rel="external">Arch Linux - Mirror Overview</a><br><a href="https://www.archlinux.org/mirrorlist/" target="_blank" rel="external">Arch Linux - Pacman Mirrorlist Generator</a><br><a href="http://repo.manjaro.org" target="_blank" rel="external">http://repo.manjaro.org</a></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo pacman-mirrors -i <span class="comment"># or -g</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># mirror list is located at</span></span><br><span class="line">sudo vi /etc/pacman.d/mirrorlist</span><br></pre></td></tr></table></figure>
<h4 id="using_AUR"><a href="#using_AUR" class="headerlink" title="using AUR"></a>using AUR</h4><p><a href="https://wiki.archlinux.org/index.php/AUR_helpers" target="_blank" rel="external">AUR helpers - ArchWiki</a><br><a href="http://bbs.archbang.org/viewtopic.php?id=2474" target="_blank" rel="external">[SOLVED] Should I install programs using pacman or packer? (Page 1) / Pacman/Packages / ArchBang Forums</a><br><a href="https://www.digitalocean.com/community/tutorials/how-to-use-yaourt-to-easily-download-arch-linux-community-packages" target="_blank" rel="external">How To Use Yaourt to Easily Download Arch Linux Community Packages | DigitalOcean</a></p>
<h4 id="creating_package"><a href="#creating_package" class="headerlink" title="creating package"></a>creating package</h4><p><a href="http://arch.acgtyrant.com/2013/12/26/soul/" target="_blank" rel="external">Arch Linux 的靈魂：PKGBUILD、AUR 和 ABS | Tyrant’s Arch Linux</a><br><a href="https://wiki.archlinux.org/index.php/Arch_Build_System" target="_blank" rel="external">Arch Build System - ArchWiki</a><br><a href="https://wiki.archlinux.org/index.php/Arch_packaging_standards" target="_blank" rel="external">Arch packaging standards - ArchWiki</a><br><a href="https://wiki.archlinux.org/index.php/PKGBUILD" target="_blank" rel="external">PKGBUILD - ArchWiki</a></p>
<h4 id="sync_database__28-S_-y_7C_u2013refresh_29"><a href="#sync_database__28-S_-y_7C_u2013refresh_29" class="headerlink" title="sync database (-S -y|–refresh)"></a>sync database (-S -y|–refresh)</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># sync the database</span></span><br><span class="line">pacman -Sy</span><br><span class="line"><span class="comment"># force sync the database</span></span><br><span class="line">pacman -Syy</span><br><span class="line"></span><br><span class="line"><span class="comment"># optimze after update</span></span><br><span class="line">pacman-optimize &amp;&amp; sync</span><br></pre></td></tr></table></figure>
<h4 id="updating__28-S_-u_7C_u2013sysupgrade_29"><a href="#updating__28-S_-u_7C_u2013sysupgrade_29" class="headerlink" title="updating (-S -u|–sysupgrade)"></a>updating (-S -u|–sysupgrade)</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># check packages that can be updated</span></span><br><span class="line">checkupdates</span><br><span class="line"></span><br><span class="line"><span class="comment"># chech arch news</span></span><br><span class="line">pacmatic</span><br><span class="line"><span class="comment"># update packages</span></span><br><span class="line">pacman -Su</span><br><span class="line"><span class="comment"># sync and udpate</span></span><br><span class="line">pacman -Syu</span><br></pre></td></tr></table></figure>
<h4 id="installing__28-S_7C_u2013sync_29"><a href="#installing__28-S_7C_u2013sync_29" class="headerlink" title="installing (-S|–sync)"></a>installing (-S|–sync)</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">pacman -S package_name</span><br><span class="line">pacman -S testing/package_name</span><br><span class="line">pacman -S group_name</span><br><span class="line"><span class="comment"># local package</span></span><br><span class="line">pacman -U /package_path/package_name.pkg.tar.xz</span><br></pre></td></tr></table></figure>
<h4 id="search__28-S_-s_7C_u2013search_29"><a href="#search__28-S_-s_7C_u2013search_29" class="headerlink" title="search (-S -s|–search)"></a>search (-S -s|–search)</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">pacman -Ss package_name/package_regex</span><br><span class="line"><span class="comment"># name only</span></span><br><span class="line">pacman -Ssq package_name/package_regex</span><br><span class="line"><span class="comment"># package info</span></span><br><span class="line">pacman -Si package_name</span><br><span class="line">pacman -Sii package_name</span><br><span class="line"><span class="comment"># resolve group</span></span><br><span class="line">pacman -Sg group_name</span><br><span class="line"><span class="comment"># tree view of dependencies</span></span><br><span class="line">pactree package_name</span><br></pre></td></tr></table></figure>
<h4 id="clean_cache__28-S_-c_7C_u2013clean_29"><a href="#clean_cache__28-S_-c_7C_u2013clean_29" class="headerlink" title="clean cache (-S -c|–clean)"></a>clean cache (-S -c|–clean)</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">pacman -Sc</span><br><span class="line"><span class="comment"># pacman only keeps install version so it is not possible to rollback</span></span><br><span class="line"><span class="comment"># use `pkgcacheclean` from AUR</span></span><br><span class="line">pkgcacheclean</span><br></pre></td></tr></table></figure>
<h4 id="remove__28-R_7C_u2013remove_29"><a href="#remove__28-R_7C_u2013remove_29" class="headerlink" title="remove (-R|–remove)"></a>remove (-R|–remove)</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">pacman -R package_name</span><br><span class="line"><span class="comment"># also remove unneeded dependencies</span></span><br><span class="line">pacman -Rs package_name</span><br><span class="line"><span class="comment"># remove orphaned packages</span></span><br><span class="line">pacman -Rsn $(pacman -Qdtq)</span><br></pre></td></tr></table></figure>
<h4 id="query_installed__28-Q_7C_u2013query_29"><a href="#query_installed__28-Q_7C_u2013query_29" class="headerlink" title="query installed (-Q|–query)"></a>query installed (-Q|–query)</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># query installed packages, with version</span></span><br><span class="line">pacman -Q</span><br><span class="line"><span class="comment"># search installed packages</span></span><br><span class="line">pacman -Qs &lt;query&gt;</span><br><span class="line"><span class="comment"># query files in packages</span></span><br><span class="line">pacman -Ql package_name</span><br><span class="line"><span class="comment"># query package that installed the file</span></span><br><span class="line">pacman -Qo &lt;file path&gt;</span><br><span class="line"><span class="comment"># query orphaned packages</span></span><br><span class="line"><span class="comment"># https://wiki.manjaro.org/index.php?title=Orphan_Package_Removal</span></span><br><span class="line">pacman -Qdt</span><br><span class="line"><span class="comment"># query explicitly installed</span></span><br><span class="line">pacman -Qet</span><br><span class="line"><span class="comment"># list dependents, requires `pkgtools`</span></span><br><span class="line">whoneeds package_name</span><br></pre></td></tr></table></figure>
<h3 id="pacmatic"><a href="#pacmatic" class="headerlink" title="pacmatic"></a>pacmatic</h3><p><a href="http://kmkeen.com/pacmatic/" target="_blank" rel="external">Pacmatic: Get emails about pending system updates with cron-pacmatic</a></p>
<p>Pacmatic:</p>
<ul>
<li>alert you the updates of <strong>your installed applications</strong></li>
<li>forces you to resolve [pacman conflicts]<a href="https://wiki.archlinux.org/index.php/Pacnew_and_Pacsave_files" target="_blank" rel="external">https://wiki.archlinux.org/index.php/Pacnew_and_Pacsave_files</a>)</li>
</ul>
<p>Just use <code>pacmatic</code> instead of <code>pacman</code>.</p>
<h3 id="yaourt"><a href="#yaourt" class="headerlink" title="yaourt"></a>yaourt</h3><p><a href="https://wiki.archlinux.org/index.php/yaourt" target="_blank" rel="external">Yaourt - ArchWiki</a><br><a href="https://archlinux.fr/yaourt-en" target="_blank" rel="external">yaourt: a pacman frontend « Archlinux.fr</a><br><a href="https://aur.archlinux.org/packages/yaourt/" target="_blank" rel="external">AUR (en) - yaourt</a></p>
<p>Yaourt uses AUR automatically.</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># update packages from official repo and AUR</span></span><br><span class="line">yaourt -Syua</span><br></pre></td></tr></table></figure>
<p><code>~/.yaourtrc</code>:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#! .rcfile for yaourt</span></span><br><span class="line"><span class="comment"># http://archlinux.fr/man/yaourtrc.5.html</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## PROMPT OPTIONS</span></span><br><span class="line">SUDONOVERIF=<span class="number">1</span></span><br><span class="line">EDITFILES=<span class="number">0</span></span><br><span class="line">BUILD_NOCONFIRM=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## COMMAND OPTIONS</span></span><br><span class="line">PACMAN=<span class="string">"pacmatic"</span></span><br><span class="line">DIFFEDITCMD=<span class="string">"meld"</span></span><br></pre></td></tr></table></figure>
<h3 id="packer"><a href="#packer" class="headerlink" title="packer"></a>packer</h3><p><a href="https://github.com/keenerd/packer" target="_blank" rel="external">keenerd/packer</a><br><a href="https://aur.archlinux.org/packages/packer/" target="_blank" rel="external">AUR (en) - packer</a></p>
<p><a href="http://dominicm.com/install-packer-on-arch-linux/" target="_blank" rel="external">DominicM – Install Packer on Arch Linux</a><br><a href="http://rorygarand.com/blog/2013/02/12/packer-and-the-arch-user-repository" target="_blank" rel="external">Packer and the Arch User Repository | Rory Garand</a></p>
<p>Same command as <code>pacman</code>, but also checks AUR.</p>
<h3 id="creating_package-1"><a href="#creating_package-1" class="headerlink" title="creating package"></a>creating package</h3><p><a href="https://wiki.archlinux.org/index.php/Arch_Build_System" target="_blank" rel="external">Arch Build System - ArchWiki</a><br><a href="https://wiki.archlinux.org/index.php/Makepkg" target="_blank" rel="external">makepkg - ArchWiki</a></p>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">
<ul class="pagination">
	 
				
    	<li class="prev"><a href="/hexo/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>Prev</a></li>
  		

        <li><a href="/archives"><i class="fa fa-archive"></i>Archive</a></li>

		
		   <li class="next"><a href="/bookmarklets/" class="alignright next">Next<i class="fa fa-arrow-circle-o-right"></i></a></li>         
        
	
</ul>
</div>

    </center>
	</div>
	
	<!-- comment -->
	
<section id="comment">
  <h2 class="title">Comments</h2>

  
  	 <div id="disqus_thread">
     <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  	 </div>
  
</section>

	
	</div> <!-- col-md-9/col-md-12 -->
	
	
		<div class="col-md-3"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2014-12-08 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/linux/">linux<span>18</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/antergos/">antergos<span>1</span></a></li> <li><a href="/tags/arch-linux/">arch-linux<span>2</span></a></li> <li><a href="/tags/archbang/">archbang<span>1</span></a></li> <li><a href="/tags/bridge-linux/">bridge-linux<span>1</span></a></li> <li><a href="/tags/desktop/">desktop<span>12</span></a></li> <li><a href="/tags/manjaro/">manjaro<span>1</span></a></li> <li><a href="/tags/notes/">notes<span>19</span></a></li> <li><a href="/tags/package-manager/">package-manager<span>9</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i></a>
	   <div id="toc" class="toc collapse in">
			<ol class="toc-article"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Arch_Distros"><span class="toc-article-text">Arch Distros</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#Manjaro_NET-Edition"><span class="toc-article-text">Manjaro NET-Edition</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#Antergos"><span class="toc-article-text">Antergos</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#ArchBang"><span class="toc-article-text">ArchBang</span></a></li></ol></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Installation"><span class="toc-article-text">Installation</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Post-install"><span class="toc-article-text">Post-install</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#pacman_repo"><span class="toc-article-text">pacman repo</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#increase_inotify_limit"><span class="toc-article-text">increase inotify limit</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#install_priority_packages"><span class="toc-article-text">install priority packages</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#setup_mail"><span class="toc-article-text">setup mail</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#display_driver"><span class="toc-article-text">display driver</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#AMD"><span class="toc-article-text">AMD</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#nVidia"><span class="toc-article-text">nVidia</span></a></li></ol></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#Remove_indexer__28Antergos_only_3F_29"><span class="toc-article-text">Remove indexer (Antergos only?)</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#Network"><span class="toc-article-text">Network</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#DNS_resolver"><span class="toc-article-text">DNS resolver</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#static_IP_address"><span class="toc-article-text">static IP address</span></a></li></ol></li></ol></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Troubleshooting"><span class="toc-article-text">Troubleshooting</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#u201CFailed_to_set_default_locale_u201D"><span class="toc-article-text">“Failed to set default locale”</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#future_key__28Manjaro_issue_29"><span class="toc-article-text">future key (Manjaro issue)</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#dirmngr__28Manjaro_issue_29"><span class="toc-article-text">dirmngr (Manjaro issue)</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#emergency_mode"><span class="toc-article-text">emergency mode</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#hardware_propbing"><span class="toc-article-text">hardware propbing</span></a></li></ol></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Package_manager"><span class="toc-article-text">Package manager</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#pacman-key"><span class="toc-article-text">pacman-key</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#add_key"><span class="toc-article-text">add key</span></a></li></ol></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#pacman"><span class="toc-article-text">pacman</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#repo_source"><span class="toc-article-text">repo source</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#using_AUR"><span class="toc-article-text">using AUR</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#creating_package"><span class="toc-article-text">creating package</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#sync_database__28-S_-y_7C_u2013refresh_29"><span class="toc-article-text">sync database (-S -y|–refresh)</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#updating__28-S_-u_7C_u2013sysupgrade_29"><span class="toc-article-text">updating (-S -u|–sysupgrade)</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#installing__28-S_7C_u2013sync_29"><span class="toc-article-text">installing (-S|–sync)</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#search__28-S_-s_7C_u2013search_29"><span class="toc-article-text">search (-S -s|–search)</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#clean_cache__28-S_-c_7C_u2013clean_29"><span class="toc-article-text">clean cache (-S -c|–clean)</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#remove__28-R_7C_u2013remove_29"><span class="toc-article-text">remove (-R|–remove)</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#query_installed__28-Q_7C_u2013query_29"><span class="toc-article-text">query installed (-Q|–query)</span></a></li></ol></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#pacmatic"><span class="toc-article-text">pacmatic</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#yaourt"><span class="toc-article-text">yaourt</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#packer"><span class="toc-article-text">packer</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#creating_package-1"><span class="toc-article-text">creating package</span></a></li></ol></li></ol>
		</div>
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	

</div><!-- row -->

	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2015 leesei
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a> (customized by <a href="https://github.com/leesei/hexo-theme-freemind/tree/leesei.github.io">leesei</a>).
</p>
 </footer>
</div> <!-- container-narrow -->
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>


<script type="text/javascript">
var disqus_shortname = 'leesei';
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


</body>
   </html>
