<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>Shell Tools | leesei&#39;s notebook</title>

  <meta name="author" content="leesei">
  
  <meta name="description" content="Technical blog for the future me and other beings.">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Shell Tools">
  <meta property="og:site_name" content="leesei&#39;s notebook">

  
    <meta property="og:image" content>
  

  
  
    <link href="/favicon.png" rel="icon">
  

  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  



</head>
</html>
 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">leesei&#39;s notebook</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">		
			<h1> Shell Tools</h1>
		</div>		
	



<div class="row post">
	<!-- cols -->
	
	<div class="col-md-9">
	

			

	<!-- content -->
	<div class="mypage">		
	    <p><a href="http://www.commandlinefu.com/commands/browse" target="_blank" rel="noopener">All commands | commandlinefu.com</a><br><a href="http://explainshell.com/" target="_blank" rel="noopener">explainshell.com - match command-line arguments to their help text</a><br><a href="https://wiki.archlinux.org/index.php/Core_utilities" target="_blank" rel="noopener">Core utilities - ArchWiki</a><br><a href="https://www.linode.com/docs/tools-reference/" target="_blank" rel="noopener">Tools &amp; Reference - Linode Guides &amp; Tutorials</a><br><a href="http://www.thegeekstuff.com/linux-101-hacks-ebook/" target="_blank" rel="noopener">Linux 101 Hacks eBook, by Ramesh Natarajan</a><br><a href="http://docstore.mik.ua/orelly/unix3/" target="_blank" rel="noopener">The Unix CD Bookshelf, v3.0</a></p>
<p><a href="https://tldr.sh/" target="_blank" rel="noopener">TLDR pages</a><br><a href="https://www.pantz.org/" target="_blank" rel="noopener">Pantz.org Technical Reference Site</a></p>
<p><a href="http://jeroenjanssens.com/2013/09/19/seven-command-line-tools-for-data-science.html" target="_blank" rel="noopener">7 command-line tools for data science</a></p>
<p><a href="https://www.tecmint.com/remember-linux-commands/amp/" target="_blank" rel="noopener">5 Useful Tools to Remember Linux Commands Forever</a><br><a href="https://www.tecmint.com/linux-commands-cheat-sheet/" target="_blank" rel="noopener">A - Z Linux Commands - Overview with Examples</a><br><a href="https://www.everythingcli.org/" target="_blank" rel="noopener">Everything CLI - It is all about the unix cli</a></p>
<p><a href="https://hackernoon.com/macbook-my-command-line-utilities-f8a121c3b019#.h92el0w0k" target="_blank" rel="noopener">My favorite command-line utilities</a><br><a href="http://www.pixelbeat.org/docs/coreutils-gotchas.html#dd" target="_blank" rel="noopener">Coreutils Gotchas</a><br><a href="https://jvns.ca/blog/2018/08/05/new-zine--bite-size-command-line/" target="_blank" rel="noopener">New zine: Bite Size Command Line! - Julia Evans</a></p>
<p><a href="https://github.com/k4m4/terminals-are-sexy" target="_blank" rel="noopener">k4m4/terminals-are-sexy: 💥 A curated list of Terminal frameworks, plugins &amp; resources for CLI lovers.</a><br><a href="https://github.com/alebcay/awesome-shell" target="_blank" rel="noopener">alebcay/awesome-shell: A curated list of awesome command-line frameworks, toolkits, guides and gizmos. Inspired by awesome-php.</a><br><a href="https://github.com/aharris88/awesome-cli-apps" target="_blank" rel="noopener">aharris88/awesome-cli-apps: A curated list of command line apps</a><br><a href="https://github.com/herrbischoff/awesome-command-line-apps" target="_blank" rel="noopener">herrbischoff/awesome-command-line-apps: Use your terminal shell to do awesome things.</a><br><a href="https://github.com/jlevy/the-art-of-command-line" target="_blank" rel="noopener">jlevy/the-art-of-command-line: Master the command line, in one page</a><br><a href="https://github.com/nvbn/thefuck" target="_blank" rel="noopener">nvbn/thefuck: Magnificent app which corrects your previous console command.</a><br><a href="https://github.com/facebook/pathpicker/" target="_blank" rel="noopener">facebook/PathPicker</a> <code>fpp</code> provides interactive links to files in shell output<br><a href="http://www.pipecut.org/" target="_blank" rel="noopener">Pipecut Project Home</a><br><a href="https://www.networkworld.com/article/3268964/linux/how-to-do-math-on-the-linux-command-line.html" target="_blank" rel="noopener">How to do math on the Linux command line | Network World</a></p>
<p><a href="https://xyne.archlinux.ca/projects/rmdupes/" target="_blank" rel="noopener">rmdupes</a></p>
<h2 id="simple-manpage"><a href="#simple-manpage" class="headerlink" title="simple manpage"></a>simple manpage</h2><p><a href="https://github.com/tldr-pages/tldr" target="_blank" rel="noopener">tldr-pages/tldr: Simplified and community-driven man pages</a><br><a href="https://github.com/chrisallenlane/cheat" target="_blank" rel="noopener">chrisallenlane/cheat: cheat allows you to create and view interactive cheatsheets on the command-line.</a><br><a href="http://bropages.org/" target="_blank" rel="noopener">bro: just get to the point!</a></p>
<h2 id="user-management"><a href="#user-management" class="headerlink" title="user management"></a>user management</h2><blockquote>
<p>Ubuntu has an <code>adduser</code> wrapper to <code>useradd</code></p>
</blockquote>
<p><code>/etc/passwd</code> defines the users<br><code>/etc/group</code> defines the groups</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># print user info</span></span><br><span class="line">id <span class="variable">$USER</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># new user with secondary group</span></span><br><span class="line">useradd -G group[,group] user</span><br><span class="line"></span><br><span class="line"><span class="comment"># add secondary group to existing user</span></span><br><span class="line">usermod -a -G group[,group] user</span><br><span class="line"></span><br><span class="line"><span class="comment"># delete user</span></span><br><span class="line">userdel user</span><br><span class="line"><span class="comment"># delete user and home folder</span></span><br><span class="line">userdel -r user</span><br><span class="line"></span><br><span class="line"><span class="comment"># relogin to take effect</span></span><br><span class="line">su - <span class="variable">$USER</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># password expiry policy can be set with `passwd` and `chage`</span></span><br><span class="line">passwd -n 0 user  <span class="comment"># 0 day between password changes</span></span><br><span class="line">passwd -x 90 user <span class="comment"># days for password to be valid</span></span><br><span class="line">passwd -w 7 user  <span class="comment"># days of warning before expiration</span></span><br><span class="line">chage -l user</span><br><span class="line"></span><br><span class="line"><span class="comment"># forces user to change at next login</span></span><br><span class="line">passwd -l user    <span class="comment"># lock user password</span></span><br></pre></td></tr></table></figure>

<p><a href="http://superuser.com/questions/272061/reload-a-linux-users-group-assignments-without-logging-out" target="_blank" rel="noopener">shell - Reload a Linux user&#39;s group assignments without logging out - Super User</a></p>
<h2 id="Term-recorder"><a href="#Term-recorder" class="headerlink" title="Term recorder"></a>Term recorder</h2><p><a href="https://github.com/chjj/ttystudio" target="_blank" rel="noopener">chjj/ttystudio</a> record to GIF<br><a href="https://github.com/theonewolf/TermRecord" target="_blank" rel="noopener">theonewolf/TermRecord</a> record to HTML<br><a href="https://github.com/asciinema/asciinema" target="_blank" rel="noopener">asciinema/asciinema</a> record and post to <a href="asciinema.org">asciinema.org</a>.</p>
<h2 id="openRTSP"><a href="#openRTSP" class="headerlink" title="openRTSP"></a>openRTSP</h2><p><a href="http://www.live555.com/openRTSP/#option-summary" target="_blank" rel="noopener">http://www.live555.com/openRTSP/#option-summary</a></p>
<h2 id="tar"><a href="#tar" class="headerlink" title="tar"></a>tar</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># list content</span></span><br><span class="line">tar -tf tarball.tar.gz | head</span><br><span class="line"></span><br><span class="line"><span class="comment"># skip 1 level (container folder)</span></span><br><span class="line">tar -xvf ZendFramework-1.7.2.tar.gz --strip 1</span><br></pre></td></tr></table></figure>

<h2 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h2><p><a href="http://www.wikiwand.com/en/Grep" target="_blank" rel="noopener">grep - Wikiwand</a><br><a href="http://www.grymoire.com/Unix/Grep.html" target="_blank" rel="noopener">Grep</a><br><a href="http://www.eriwen.com/tools/grep-is-a-beautiful-tool/" target="_blank" rel="noopener">grep is a beautiful tool</a></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># list file name only</span></span><br><span class="line">grep -l pattern file</span><br><span class="line"></span><br><span class="line"><span class="comment"># grep | xarg combo</span></span><br><span class="line">grep -lZ pattern file | xargs -0 ls -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># find files without word "foo"</span></span><br><span class="line">grep -L <span class="string">"foo"</span> *</span><br><span class="line">grep -c <span class="string">"foo"</span> * | grep <span class="string">":0"</span> | awk -F: <span class="string">'&#123; print $1 &#125;'</span></span><br></pre></td></tr></table></figure>

<h2 id="uniq"><a href="#uniq" class="headerlink" title="uniq"></a>uniq</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">cat a b | sort | uniq &gt; c   <span class="comment"># c is a union b</span></span><br><span class="line">cat a b | sort | uniq -d &gt; c   <span class="comment"># c is a intersect b</span></span><br><span class="line">cat a b b | sort | uniq -u &gt; c   <span class="comment"># c is set difference a \ b</span></span><br></pre></td></tr></table></figure>

<h2 id="date"><a href="#date" class="headerlink" title="date"></a>date</h2><p><a href="https://www.linuxjournal.com/content/doing-date-math-command-line-part-i" target="_blank" rel="noopener">Doing Date Math on the Command Line, Part I | Linux Journal</a><br><a href="https://www.linuxjournal.com/content/doing-date-math-command-line-part-ii" target="_blank" rel="noopener">Doing Date Math on the Command Line - Part II | Linux Journal</a></p>
<h2 id="pt"><a href="#pt" class="headerlink" title="pt"></a>pt</h2><p><a href="https://github.com/monochromegane/the_platinum_searcher" target="_blank" rel="noopener">monochromegane/the_platinum_searcher</a></p>
<h2 id="find"><a href="#find" class="headerlink" title="find"></a>find</h2><p><a href="http://www.wikiwand.com/en/Grep" target="_blank" rel="noopener">grep - Wikiwand</a><br><a href="http://www.grymoire.com/Unix/Find.html" target="_blank" rel="noopener">Find</a><br><a href="http://www.eriwen.com/productivity/find-is-a-beautiful-tool/" target="_blank" rel="noopener">Find is a beautiful tool</a><br><a href="http://www.thegeekstuff.com/2009/03/15-practical-linux-find-command-examples/" target="_blank" rel="noopener">Mommy, I found it! — 15 Practical Linux Find Command Examples</a><br><a href="http://www.softpanorama.org/Tools/Find/index.shtml" target="_blank" rel="noopener">Unix Find Tutorial</a><br><a href="http://mywiki.wooledge.org/UsingFind" target="_blank" rel="noopener">UsingFind - Greg&#39;s Wiki</a></p>
<p><a href="http://stackoverflow.com/questions/1116992/capturing-output-of-find-print0-into-a-bash-array" target="_blank" rel="noopener">Capturing output of find . -print0 into a bash array - Stack Overflow</a><br><a href="http://stackoverflow.com/questions/4210042/exclude-directory-from-find-command/24565095#24565095" target="_blank" rel="noopener">linux - exclude directory from find . command - Stack Overflow</a><br><a href="http://stackoverflow.com/questions/1489277/how-to-use-prune-option-of-find-in-sh/1489405#1489405" target="_blank" rel="noopener">regex - How to use &#39;-prune&#39; option of &#39;find&#39; in sh? - Stack Overflow</a><br><a href="https://coolaj86.com/articles/how-to-rsync-files-by-date-or-by-size.html" target="_blank" rel="noopener">How to rsync files by date or by size</a> (actually <code>find</code> trickery)</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># find | xarg combo</span></span><br><span class="line">find . -print0 | xargs -0 ls -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># all files greater than 1mb</span></span><br><span class="line">find <span class="variable">$HOME</span>/. -size +1024k</span><br><span class="line"></span><br><span class="line"><span class="comment"># all .js files inside current directory greater than 500k</span></span><br><span class="line">find . -name <span class="string">'*.js'</span> -size +500k</span><br><span class="line"></span><br><span class="line"><span class="comment"># find all files larger than zero but less than 500bytes</span></span><br><span class="line">find . -size +0 -a -size -500c <span class="comment"># (-a is AND, -c is bytes)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># find all files larger than zero OR (-o) any that haven't been accessed in over a year</span></span><br><span class="line">find . -size 0 -o -atime +365</span><br><span class="line"></span><br><span class="line"><span class="comment"># find all files modified more than 5 days ago</span></span><br><span class="line">find . -<span class="built_in">type</span> f -mtime +5</span><br><span class="line"><span class="comment"># find all files modified within last 60 minutes</span></span><br><span class="line">find . -<span class="built_in">type</span> f -mmin -60</span><br><span class="line"></span><br><span class="line"><span class="comment"># find all files of size between 50-100MB</span></span><br><span class="line">find . -size +50M -size -100M</span><br><span class="line"></span><br><span class="line"><span class="comment"># concat all Java files and print to console, note the space before '\'</span></span><br><span class="line">find . -<span class="built_in">type</span> f -name <span class="string">"*.java"</span>-<span class="built_in">exec</span> cat &#123;&#125; \;</span><br><span class="line"></span><br><span class="line"><span class="comment"># find executables</span></span><br><span class="line">find . -perm /a=x</span><br><span class="line"></span><br><span class="line"><span class="comment"># find empty directories</span></span><br><span class="line">find . -<span class="built_in">type</span> d -empty</span><br><span class="line"></span><br><span class="line"><span class="comment"># excluding folders</span></span><br><span class="line"><span class="comment"># prune is faster than `-not` for files are skipped</span></span><br><span class="line">find build -not \(-<span class="built_in">type</span> d -path build/external -prune \) -name \*.js</span><br></pre></td></tr></table></figure>

<h3 id="operate-files-using-inum"><a href="#operate-files-using-inum" class="headerlink" title="operate files using inum"></a>operate files using inum</h3><p>This is useful when the file name is particularly long or contains weird characters.</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># list inum of files</span></span><br><span class="line">ls -i</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> <span class="string">"<span class="variable">$(find -inum 123456)</span>"</span></span><br><span class="line">mv <span class="string">"<span class="variable">$(find -inum 123456)</span>"</span> ../some/<span class="built_in">where</span>/</span><br></pre></td></tr></table></figure>

<h2 id="rsync"><a href="#rsync" class="headerlink" title="rsync"></a>rsync</h2><p><a href="https://www.mankier.com/1/rsync" target="_blank" rel="noopener">rsync - man page</a><br><a href="http://cinvro.com/post/rsync/" target="_blank" rel="noopener">又一枚瑞士军刀：rsync – Canvas</a><br><a href="http://dominicm.com/replace-storage-drives-rsync-arch-linux/" target="_blank" rel="noopener">Replace Storage Drives with Rsync in Arch Linux | DominicMDominicM</a><br><a href="https://opensource.com/article/19/5/advanced-rsync?utm_campaign=intrel" target="_blank" rel="noopener">How to use advanced rsync for large Linux backups | Opensource.com</a></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">rsync -avihXP --info=progress2 --stats &lt;SRC&gt; &lt;DEST&gt;</span><br><span class="line"></span><br><span class="line">rsync -r -t -v -progress -s -e <span class="string">"ssh -p 1234"</span> /mnt/media/coding user@backup:/mnt/media</span><br><span class="line"></span><br><span class="line"><span class="comment"># use rsync to copy files while retaining folder structure</span></span><br><span class="line"><span class="comment"># an alternative to `cp --parents`</span></span><br><span class="line">rsync -avR dir1/file1 dir2/file2 target/</span><br><span class="line"><span class="comment"># target/dir1/file1, target/dir2/file2 will be created</span></span><br></pre></td></tr></table></figure>

<p><a href="http://coolshell.cn/articles/7425.html" target="_blank" rel="noopener">rsync 的核心算法 | 酷 壳 - CoolShell.cn</a></p>
<h3 id="rsnapshot"><a href="#rsnapshot" class="headerlink" title="rsnapshot"></a>rsnapshot</h3><p><a href="http://rsnapshot.org/" target="_blank" rel="noopener">rsnapshot | rsnapshot</a><br><a href="https://linuxconfig.org/guide-to-rsnapshot-and-incremental-backups-on-linux" target="_blank" rel="noopener">Guide to rsnapshot and incremental backups on Linux</a><br><a href="http://www.mikerubel.org/computers/rsync_snapshots/" target="_blank" rel="noopener">Easy Automated Snapshot-Style Backups with Rsync</a> inspiration for rsnapshot</p>
<h2 id="rename"><a href="#rename" class="headerlink" title="rename"></a>rename</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># to lower (y = transliterating, character substitution)</span></span><br><span class="line">rename <span class="string">'y/A-Z/a-z/'</span> *</span><br><span class="line"><span class="comment"># remove '.txt' suffix</span></span><br><span class="line">rename <span class="string">'s/.txt$//'</span> *</span><br><span class="line"><span class="comment"># add '.txt' suffix</span></span><br><span class="line">rename <span class="string">'s/$/.txt/'</span> *</span><br></pre></td></tr></table></figure>

<h2 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h2><p><a href="http://www.wikiwand.com/en/Sort_(Unix%29" target="_blank" rel="noopener">sort (Unix) - Wikiwand</a><br><a href="https://www.mankier.com/1/sort" target="_blank" rel="noopener">sort - man page</a></p>
<h2 id="xargs"><a href="#xargs" class="headerlink" title="xargs"></a>xargs</h2><p><a href="http://www.wikiwand.com/en/Xargs" target="_blank" rel="noopener">xargs - Wikiwand</a><br><a href="https://www.mankier.com/1/xargs" target="_blank" rel="noopener">xargs - man page</a><br><a href="http://charlesmartinreid.com/wiki/Xargs" target="_blank" rel="noopener">Xargs - Charles Martin Reid</a><br><a href="http://offbytwo.com/2011/06/26/things-you-didnt-know-about-xargs.html" target="_blank" rel="noopener">Things you (probably) didn&#39;t know about xargs</a><br><a href="https://www.howtoforge.com/tutorial/linux-xargs-command/" target="_blank" rel="noopener">8 Practical Examples of Linux Xargs Command for Beginners</a><br><a href="https://www.everythingcli.org/find-exec-vs-find-xargs/" target="_blank" rel="noopener">find -exec vs find | xargs</a></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># simple use case</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"U R L"</span> | xargs -n1 <span class="built_in">echo</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># `-I` may be needed for more complex use case (`mv @ @.bak`)</span></span><br><span class="line"><span class="comment"># however `-I` implies `-L` (takes input as line)</span></span><br><span class="line"><span class="comment"># so split before call</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"U R L"</span> | sed <span class="string">'s/ /\n/g'</span> | xargs -I@ <span class="built_in">echo</span> @</span><br><span class="line"></span><br><span class="line"><span class="comment"># or do with temp file</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"U\nR\nL"</span> &gt; file</span><br><span class="line">cat file | xargs -I@ <span class="built_in">echo</span> @</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># custom delimiter, custom replace-str</span></span><br><span class="line"><span class="built_in">echo</span> -n 4500 10500 30000 | xargs -n1 -d<span class="string">" "</span> -I@ math @*200/1024</span><br></pre></td></tr></table></figure>

<h2 id="diff"><a href="#diff" class="headerlink" title="diff"></a>diff</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># left only</span></span><br><span class="line">diff --changed-group-format=<span class="string">'%&lt;'</span> --unchanged-group-format=<span class="string">''</span> FILE1 FILE2</span><br><span class="line"><span class="comment"># right only</span></span><br><span class="line">diff --changed-group-format=<span class="string">'%&gt;'</span> --unchanged-group-format=<span class="string">''</span> FILE1 FILE2</span><br></pre></td></tr></table></figure>

<p><a href="https://superuser.com/questions/125376/how-do-i-compare-binary-files-in-linux" target="_blank" rel="noopener">https://superuser.com/questions/125376/how-do-i-compare-binary-files-in-linux</a></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">vimdiff &lt;(xxd file1) &lt;(xxd file2)</span><br></pre></td></tr></table></figure>

<h2 id="inotify-tools"><a href="#inotify-tools" class="headerlink" title="inotify-tools"></a>inotify-tools</h2><p><a href="https://github.com/rvoicilas/inotify-tools" target="_blank" rel="noopener">https://github.com/rvoicilas/inotify-tools</a></p>
<h2 id="cpio"><a href="#cpio" class="headerlink" title="cpio"></a>cpio</h2><p><a href="https://www.mankier.com/1/cpio" target="_blank" rel="noopener">cpio - man page</a><br><a href="http://www.thegeekstuff.com/2010/08/cpio-utility/" target="_blank" rel="noopener">Linux cpio Examples: How to Create and Extract cpio Archives (and tar archives)</a><br><a href="https://www.wikiwand.com/en/Cpio" target="_blank" rel="noopener">cpio - Wikiwand</a></p>
<p>copy files to destination folder keeping the tree structure of the path specified</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># in ~/source</span></span><br><span class="line"><span class="comment"># these files are reachable in ~/source with their relative paths</span></span><br><span class="line">cat ~/filelist</span><br><span class="line">frameworks/av/media/libstagefright/foundation/ANetworkSession.cpp</span><br><span class="line">frameworks/av/media/libstagefright/wifi-display/Android.mk</span><br><span class="line">frameworks/av/media/libstagefright/wifi-display/MediaSender.cpp</span><br><span class="line">frameworks/av/media/libstagefright/wifi-display/<span class="built_in">source</span>/Converter.cpp</span><br><span class="line">frameworks/av/media/libstagefright/wifi-display/<span class="built_in">source</span>/PlaybackSession.cpp</span><br><span class="line">frameworks/av/media/libstagefright/wifi-display/<span class="built_in">source</span>/TSPacketizer.cpp</span><br><span class="line">frameworks/av/media/libstagefright/wifi-display/<span class="built_in">source</span>/WifiDisplaySource.cpp</span><br><span class="line">frameworks/av/media/libstagefright/wifi-display/<span class="built_in">source</span>/WifiDisplaySource.h</span><br><span class="line">frameworks/av/media/libstagefright/wifi-display/VideoFormats.cpp</span><br><span class="line">frameworks/av/media/libstagefright/wifi-display/wfd.cpp</span><br><span class="line"></span><br><span class="line">cpio -pud ~/dest &lt; ~/filelist</span><br><span class="line"></span><br><span class="line"><span class="comment"># cpio single file</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"frameworks/base/cmds/pm/src/com/android/commands/pm/Pm.java"</span> \</span><br><span class="line">| cpio -pud <span class="variable">$&#123;ANDROID_PATCH&#125;</span>/board/common/</span><br></pre></td></tr></table></figure>

<h2 id="cut"><a href="#cut" class="headerlink" title="cut"></a>cut</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># get n-th to m-th word in string, using ':' as separator</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;LINE&#125;</span> | cat -d: -f n,m</span><br></pre></td></tr></table></figure>

<h2 id="tr"><a href="#tr" class="headerlink" title="tr"></a>tr</h2><p>replace character in SET1 with characters in SET2</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"foo\nbar\nbaz"</span> | tr <span class="string">"bf"</span> <span class="string">"\!"</span></span><br><span class="line"><span class="comment"># negates SET1</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"foo\nbar\nbaz"</span> | tr -c <span class="string">"bf\n"</span> <span class="string">"\!"</span></span><br><span class="line"><span class="comment"># ROT13</span></span><br><span class="line"><span class="built_in">alias</span> rot13=<span class="string">"tr '[A-Za-z]' '[N-ZA-Mn-za-m]'"</span></span><br></pre></td></tr></table></figure>

<h2 id="lsof"><a href="#lsof" class="headerlink" title="lsof"></a>lsof</h2><p><a href="https://github.com/akme/lsofgraph-python" target="_blank" rel="noopener">akme/lsofgraph-python: python version of lsof to graphviz parser</a><br><a href="https://github.com/zevv/lsofgraph" target="_blank" rel="noopener">zevv/lsofgraph: lsof to graphviz</a><br><a href="https://www.tecmint.com/10-lsof-command-examples-in-linux/" target="_blank" rel="noopener">10 lsof Command Examples in Linux</a></p>
<h2 id="funny"><a href="#funny" class="headerlink" title="funny"></a>funny</h2><p><a href="http://www.binarytides.com/linux-fun-commands/" target="_blank" rel="noopener">20 amusing Linux commands to have fun with the terminal</a><br><a href="https://www.wikiwand.com/en/Cowsay" target="_blank" rel="noopener">cowsay - Wikiwand</a></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">cowsay -l</span><br><span class="line">fortune | cowsay -f stegosaurus</span><br></pre></td></tr></table></figure>

<h2 id="JSON-manipulation"><a href="#JSON-manipulation" class="headerlink" title="JSON manipulation"></a>JSON manipulation</h2><p><a href="http://jsonselect.org/#overview" target="_blank" rel="noopener">JSONSelect</a><br><a href="http://trentm.com/json/" target="_blank" rel="noopener">json(1) - JSON love for your command line</a><br><a href="https://github.com/maxogden/jsonmap" target="_blank" rel="noopener">maxogden/jsonmap: CLI JSON mapping/transformation utility</a><br><a href="https://github.com/FGRibreau/jq.node" target="_blank" rel="noopener">FGRibreau/jq.node: jq.node - like jq but WAY MORE powerful</a></p>
<h3 id="jq"><a href="#jq" class="headerlink" title="jq"></a><a href="https://stedolan.github.io/jq/" target="_blank" rel="noopener">jq</a></h3><p><a href="https://stedolan.github.io/jq/manual/" target="_blank" rel="noopener">jq Manual</a><br><a href="https://jqterm.com/?query=." target="_blank" rel="noopener">jqterm: jq as a service</a><br><a href="https://jqplay.org/" target="_blank" rel="noopener">jq play</a></p>
<p><a href="https://github.com/stedolan/jq/blob/master/src/builtin.jq" target="_blank" rel="noopener">jq/builtin.jq at master · stedolan/jq</a><br><a href="https://github.com/stedolan/jq/wiki/FAQ#numbers" target="_blank" rel="noopener">FAQ · stedolan/jq Wiki</a><br><a href="https://github.com/stedolan/jq/wiki/Advanced-Topics" target="_blank" rel="noopener">Advanced Topics · stedolan/jq Wiki</a><br><a href="https://github.com/stedolan/jq/wiki/Cookbook" target="_blank" rel="noopener">Cookbook · stedolan/jq Wiki</a><br><a href="https://github.com/stedolan/jq/wiki/For-JSONPath-users" target="_blank" rel="noopener">For JSONPath users · stedolan/jq Wiki</a><br><a href="https://github.com/stedolan/jq/wiki/Docs-for-Oniguruma-Regular-Expressions-(RE.txt%29" target="_blank" rel="noopener">Docs for Oniguruma Regular Expressions (RE.txt) · stedolan/jq Wiki</a><br><a href="https://github.com/stedolan/jq/wiki/How-to:-Avoid-Pitfalls" target="_blank" rel="noopener">How to: Avoid Pitfalls · stedolan/jq Wiki</a></p>
<p><a href="https://remysharp.com/drafts/jq-recipes" target="_blank" rel="noopener">jq recipes</a><br><a href="http://hyperpolyglot.org/json" target="_blank" rel="noopener">JSON Tools: Jq - Hyperpolyglot</a><br><a href="http://andrew.gibiansky.com/blog/command-line/jq-primer/" target="_blank" rel="noopener">jq Primer: Munging JSON Data - Andrew Gibiansky</a><br><a href="https://robots.thoughtbot.com/jq-is-sed-for-json" target="_blank" rel="noopener">jq is sed for JSON</a><br><a href="http://programminghistorian.org/lessons/json-and-jq#the-pipe-" target="_blank" rel="noopener">Reshaping JSON with jq | Programming Historian</a><br><a href="http://www.compciv.org/recipes/cli/jq-for-parsing-json/" target="_blank" rel="noopener">Parsing JSON with jq</a><br><a href="http://arjanvandergaag.nl/blog/wrestling-json-with-jq.html" target="_blank" rel="noopener">Wrestling JSON with jq by Arjan van der Gaag</a></p>
<p><a href="https://github.com/joelpurra/jqnpm" target="_blank" rel="noopener">joelpurra/jqnpm: A package manager built for the command-line JSON processor jq.</a></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># pick field from array</span></span><br><span class="line">cat JSON | jq  <span class="string">'[ .[] | &#123; a: .field1, &#125; ]'</span></span><br><span class="line">cat JSON | jq  <span class="string">'map(&#123; a: .field1, &#125;)'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># pick field from files, shorthand for `slideId`</span></span><br><span class="line">find . -maxdepth 2 -name *json | xargs -I@ jq -c <span class="string">'&#123;slideId, w: .width, h: .height&#125;'</span> @</span><br><span class="line"><span class="comment"># collect NDJSON as array and convert to CSV</span></span><br><span class="line">find . -maxdepth 2 -name *json | xargs -I@ jq -c <span class="string">'&#123;slideId, w: .width, h: .height&#125;'</span> @ | jq -s -f ~/tocsv.jq</span><br><span class="line"></span><br><span class="line"><span class="comment"># match field</span></span><br><span class="line">cat JSON | jq -c <span class="string">'select(.row === 33089)'</span></span><br><span class="line">cat JSON | jq -c <span class="string">'select(.list | contains(["foo", "bar"]) | select(.access | test("(deny|disallow)") | not)'</span></span><br></pre></td></tr></table></figure>

<p><code>tocsv.jq</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def tocsv($x):</span><br><span class="line">    $x</span><br><span class="line">    |(map(keys)</span><br><span class="line">        |add</span><br><span class="line">        |unique</span><br><span class="line">        |sort</span><br><span class="line">    ) as $cols</span><br><span class="line">    |map(. as $row</span><br><span class="line">        |$cols</span><br><span class="line">        |map($row[.]|tostring)</span><br><span class="line">    ) as $rows</span><br><span class="line">    |$cols,$rows[]</span><br><span class="line">    | @csv;</span><br><span class="line"></span><br><span class="line">tocsv(.)</span><br></pre></td></tr></table></figure>

<p><a href="https://stackoverflow.com/questions/32960857/how-to-convert-arbirtrary-simple-json-to-csv-using-jq" target="_blank" rel="noopener">How to convert arbirtrary simple JSON to CSV using jq? - Stack Overflow</a><br><a href="https://stackoverflow.com/questions/38860529/create-json-using-jq-from-pipe-separated-keys-and-values-in-bash" target="_blank" rel="noopener">Create JSON using jq from pipe-separated keys and values in bash - Stack Overflow</a></p>
<h2 id="Toolbelt"><a href="#Toolbelt" class="headerlink" title="Toolbelt"></a>Toolbelt</h2><p><a href="https://github.com/ericfreese/rat" target="_blank" rel="noopener">ericfreese/rat: Compose shell commands to build interactive terminal applications</a><br><a href="https://github.com/danielstjules/pjs" target="_blank" rel="noopener">danielstjules/pjs</a><br>Perl for regex<br>find<br>grep<br>pt<br>sed<br>tr<br>JSON manipulation</p>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">
<ul class="pagination">
	 
				
    	<li class="prev"><a href="/hadoop/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>Prev</a></li>
  		

        <li><a href="/archives"><i class="fa fa-archive"></i>Archive</a></li>

		
		   <li class="next"><a href="/shell-sharing/" class="alignright next">Next<i class="fa fa-arrow-circle-o-right"></i></a></li>         
        
	
</ul>
</div>

    </center>
	</div>
	
	<!-- comment -->
	
<section id="comment">
  <h2 class="title">Comments</h2>

  
  	 <div id="disqus_thread">
     <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  	 </div>
  
</section>

	
	</div> <!-- col-md-9/col-md-12 -->
	
	
		<div class="col-md-3"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2015-01-14 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/app/">app<span>50</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/shell-tool/">shell-tool<span>23</span></a></li> <li><a href="/tags/cpio/">cpio<span>1</span></a></li> <li><a href="/tags/cut/">cut<span>1</span></a></li> <li><a href="/tags/diff/">diff<span>1</span></a></li> <li><a href="/tags/find/">find<span>1</span></a></li> <li><a href="/tags/grep/">grep<span>1</span></a></li> <li><a href="/tags/inotify-tools/">inotify-tools<span>1</span></a></li> <li><a href="/tags/openrtsp/">openRTSP<span>1</span></a></li> <li><a href="/tags/pt/">pt<span>1</span></a></li> <li><a href="/tags/rsync/">rsync<span>1</span></a></li> <li><a href="/tags/mega/">mega<span>1</span></a></li> <li><a href="/tags/sort/">sort<span>1</span></a></li> <li><a href="/tags/tar/">tar<span>1</span></a></li> <li><a href="/tags/tr/">tr<span>1</span></a></li> <li><a href="/tags/xargs/">xargs<span>1</span></a></li> <li><a href="/tags/useradd/">useradd<span>1</span></a></li> <li><a href="/tags/usermod/">usermod<span>1</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i></a>
	   <div id="toc" class="toc collapse in">
			<ol class="toc-article"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#simple-manpage"><span class="toc-article-text">simple manpage</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#user-management"><span class="toc-article-text">user management</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Term-recorder"><span class="toc-article-text">Term recorder</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#openRTSP"><span class="toc-article-text">openRTSP</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#tar"><span class="toc-article-text">tar</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#grep"><span class="toc-article-text">grep</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#uniq"><span class="toc-article-text">uniq</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#date"><span class="toc-article-text">date</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#pt"><span class="toc-article-text">pt</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#find"><span class="toc-article-text">find</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#operate-files-using-inum"><span class="toc-article-text">operate files using inum</span></a></li></ol></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#rsync"><span class="toc-article-text">rsync</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#rsnapshot"><span class="toc-article-text">rsnapshot</span></a></li></ol></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#rename"><span class="toc-article-text">rename</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#sort"><span class="toc-article-text">sort</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#xargs"><span class="toc-article-text">xargs</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#diff"><span class="toc-article-text">diff</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#inotify-tools"><span class="toc-article-text">inotify-tools</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#cpio"><span class="toc-article-text">cpio</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#cut"><span class="toc-article-text">cut</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#tr"><span class="toc-article-text">tr</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#lsof"><span class="toc-article-text">lsof</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#funny"><span class="toc-article-text">funny</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#JSON-manipulation"><span class="toc-article-text">JSON manipulation</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#jq"><span class="toc-article-text">jq</span></a></li></ol></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Toolbelt"><span class="toc-article-text">Toolbelt</span></a></li></ol>
		</div>
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	

</div><!-- row -->

	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2019 leesei
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a> (customized by <a href="https://github.com/leesei/hexo-theme-freemind/tree/leesei.github.io">leesei</a>).
</p>
 </footer>
</div> <!-- container-narrow -->
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>


<script type="text/javascript">
var disqus_shortname = 'leesei';
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


</body>
   </html>
